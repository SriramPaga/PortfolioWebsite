import{r as de,R as qt,j as ke,p as He}from"./index-CXTaTN3d.js";import{N as Bn}from"./Navbar-C5c7I5n1.js";import{U as Pn,M as In,R as Nn,a as jn,S as Wn,b as St,F as zn,C as wt,V as Vr,T as Vn,L as Hr,I as Hn,c as Xn,B as Yn,d as Jn,D as mn,e as Kn,f as $t,g as Qn,h as Zn,i as qn,j as kt,P as Tt,k as $n,l as ea,u as or,s as ra,_ as Ft,W as ta,H as na,m as aa,n as oa,o as Ct,p as ia,O as sa,q as la,r as fa}from"./react-three-fiber.esm-CVywtILp.js";import{O as ua}from"./OrbitControls-AJljaIMm.js";function ca(){var u=Object.create(null);function t(r,e){var a=r.id,o=r.name,n=r.dependencies;n===void 0&&(n=[]);var i=r.init;i===void 0&&(i=function(){});var s=r.getTransferables;if(s===void 0&&(s=null),!u[a])try{n=n.map(function(f){return f&&f.isWorkerModule&&(t(f,function(d){if(d instanceof Error)throw d}),f=u[f.id].value),f}),i=c("<"+o+">.init",i),s&&(s=c("<"+o+">.getTransferables",s));var l=null;typeof i=="function"?l=i.apply(void 0,n):console.error("worker module init function failed to rehydrate"),u[a]={id:a,value:l,getTransferables:s},e(l)}catch(f){f&&f.noLog||console.error(f),e(f)}}function h(r,e){var a,o=r.id,n=r.args;(!u[o]||typeof u[o].value!="function")&&e(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var i=(a=u[o]).value.apply(a,n);i&&typeof i.then=="function"?i.then(s,function(l){return e(l instanceof Error?l:new Error(""+l))}):s(i)}catch(l){e(l)}function s(l){try{var f=u[o].getTransferables&&u[o].getTransferables(l);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),e(l,f)}catch(d){console.error(d),e(d)}}}function c(r,e){var a=void 0;self.troikaDefine=function(n){return a=n};var o=URL.createObjectURL(new Blob(["/** "+r.replace(/\*/g,"")+` **/

troikaDefine(
`+e+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(n){console.error(n)}return URL.revokeObjectURL(o),delete self.troikaDefine,a}self.addEventListener("message",function(r){var e=r.data,a=e.messageId,o=e.action,n=e.data;try{o==="registerModule"&&t(n,function(i){i instanceof Error?postMessage({messageId:a,success:!1,error:i.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof i=="function"}})}),o==="callModule"&&h(n,function(i,s){i instanceof Error?postMessage({messageId:a,success:!1,error:i.message}):postMessage({messageId:a,success:!0,result:i},s||void 0)})}catch(i){postMessage({messageId:a,success:!1,error:i.stack})}})}function da(u){var t=function(){for(var h=[],c=arguments.length;c--;)h[c]=arguments[c];return t._getInitResult().then(function(r){if(typeof r=="function")return r.apply(void 0,h);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var h=u.dependencies,c=u.init;h=Array.isArray(h)?h.map(function(e){return e&&e._getInitResult?e._getInitResult():e}):[];var r=Promise.all(h).then(function(e){return c.apply(null,e)});return t._getInitResult=function(){return r},r},t}var yn=function(){var u=!1;if(typeof window<"u"&&typeof window.document<"u")try{var t=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));t.terminate(),u=!0}catch(h){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+h.message+"]")}return yn=function(){return u},u},ha=0,va=0,vt=!1,kr=Object.create(null),Tr=Object.create(null),yt=Object.create(null);function hr(u){if((!u||typeof u.init!="function")&&!vt)throw new Error("requires `options.init` function");var t=u.dependencies,h=u.init,c=u.getTransferables,r=u.workerId;if(!yn())return da(u);r==null&&(r="#default");var e="workerModule"+ ++ha,a=u.name||e,o=null;t=t&&t.map(function(i){return typeof i=="function"&&!i.workerModuleData&&(vt=!0,i=hr({workerId:r,name:"<"+a+"> function dependency: "+i.name,init:`function(){return (
`+Wr(i)+`
)}`}),vt=!1),i&&i.workerModuleData&&(i=i.workerModuleData),i});function n(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];if(!o){o=en(r,"registerModule",n.workerModuleData);var l=function(){o=null,Tr[r].delete(l)};(Tr[r]||(Tr[r]=new Set)).add(l)}return o.then(function(f){var d=f.isCallable;if(d)return en(r,"callModule",{id:e,args:i});throw new Error("Worker module function was called but `init` did not return a callable function")})}return n.workerModuleData={isWorkerModule:!0,id:e,name:a,dependencies:t,init:Wr(h),getTransferables:c&&Wr(c)},n}function pa(u){Tr[u]&&Tr[u].forEach(function(t){t()}),kr[u]&&(kr[u].terminate(),delete kr[u])}function Wr(u){var t=u.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function ga(u){var t=kr[u];if(!t){var h=Wr(ca);t=kr[u]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+u.replace(/\*/g,"")+` **/

;(`+h+")()"],{type:"application/javascript"}))),t.onmessage=function(c){var r=c.data,e=r.messageId,a=yt[e];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete yt[e],a(r)}}return t}function en(u,t,h){return new Promise(function(c,r){var e=++va;yt[e]=function(a){a.success?c(a.result):r(new Error("Error in worker "+t+" call: "+a.error))},ga(u).postMessage({messageId:e,action:t,data:h})})}function bn(){var u=function(t){function h(P,w,v,b,S,D,A,N){var O=1-A;N.x=O*O*P+2*O*A*v+A*A*S,N.y=O*O*w+2*O*A*b+A*A*D}function c(P,w,v,b,S,D,A,N,O,I){var Y=1-O;I.x=Y*Y*Y*P+3*Y*Y*O*v+3*Y*O*O*S+O*O*O*A,I.y=Y*Y*Y*w+3*Y*Y*O*b+3*Y*O*O*D+O*O*O*N}function r(P,w){for(var v=/([MLQCZ])([^MLQCZ]*)/g,b,S,D,A,N;b=v.exec(P);){var O=b[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(I){return parseFloat(I)});switch(b[1]){case"M":A=S=O[0],N=D=O[1];break;case"L":(O[0]!==A||O[1]!==N)&&w("L",A,N,A=O[0],N=O[1]);break;case"Q":{w("Q",A,N,A=O[2],N=O[3],O[0],O[1]);break}case"C":{w("C",A,N,A=O[4],N=O[5],O[0],O[1],O[2],O[3]);break}case"Z":(A!==S||N!==D)&&w("L",A,N,S,D);break}}}function e(P,w,v){v===void 0&&(v=16);var b={x:0,y:0};r(P,function(S,D,A,N,O,I,Y,ee,H){switch(S){case"L":w(D,A,N,O);break;case"Q":{for(var W=D,ge=A,ue=1;ue<v;ue++)h(D,A,I,Y,N,O,ue/(v-1),b),w(W,ge,b.x,b.y),W=b.x,ge=b.y;break}case"C":{for(var Z=D,re=A,se=1;se<v;se++)c(D,A,I,Y,ee,H,N,O,se/(v-1),b),w(Z,re,b.x,b.y),Z=b.x,re=b.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",n=new WeakMap,i={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function s(P,w){var v=P.getContext?P.getContext("webgl",i):P,b=n.get(v);if(!b){let Y=function(Z){var re=D[Z];if(!re&&(re=D[Z]=v.getExtension(Z),!re))throw new Error(Z+" not supported");return re},ee=function(Z,re){var se=v.createShader(re);return v.shaderSource(se,Z),v.compileShader(se),se},H=function(Z,re,se,V){if(!A[Z]){var te={},q={},B=v.createProgram();v.attachShader(B,ee(re,v.VERTEX_SHADER)),v.attachShader(B,ee(se,v.FRAGMENT_SHADER)),v.linkProgram(B),A[Z]={program:B,transaction:function(Q){v.useProgram(B),Q({setUniform:function(J,xe){for(var ne=[],oe=arguments.length-2;oe-- >0;)ne[oe]=arguments[oe+2];var fe=q[xe]||(q[xe]=v.getUniformLocation(B,xe));v["uniform"+J].apply(v,[fe].concat(ne))},setAttribute:function(J,xe,ne,oe,fe){var ve=te[J];ve||(ve=te[J]={buf:v.createBuffer(),loc:v.getAttribLocation(B,J),data:null}),v.bindBuffer(v.ARRAY_BUFFER,ve.buf),v.vertexAttribPointer(ve.loc,xe,v.FLOAT,!1,0,0),v.enableVertexAttribArray(ve.loc),S?v.vertexAttribDivisor(ve.loc,oe):Y("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ve.loc,oe),fe!==ve.data&&(v.bufferData(v.ARRAY_BUFFER,fe,ne),ve.data=fe)}})}}}A[Z].transaction(V)},W=function(Z,re){O++;try{v.activeTexture(v.TEXTURE0+O);var se=N[Z];se||(se=N[Z]=v.createTexture(),v.bindTexture(v.TEXTURE_2D,se),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MIN_FILTER,v.NEAREST),v.texParameteri(v.TEXTURE_2D,v.TEXTURE_MAG_FILTER,v.NEAREST)),v.bindTexture(v.TEXTURE_2D,se),re(se,O)}finally{O--}},ge=function(Z,re,se){var V=v.createFramebuffer();I.push(V),v.bindFramebuffer(v.FRAMEBUFFER,V),v.activeTexture(v.TEXTURE0+re),v.bindTexture(v.TEXTURE_2D,Z),v.framebufferTexture2D(v.FRAMEBUFFER,v.COLOR_ATTACHMENT0,v.TEXTURE_2D,Z,0);try{se(V)}finally{v.deleteFramebuffer(V),v.bindFramebuffer(v.FRAMEBUFFER,I[--I.length-1]||null)}},ue=function(){D={},A={},N={},O=-1,I.length=0};var S=typeof WebGL2RenderingContext<"u"&&v instanceof WebGL2RenderingContext,D={},A={},N={},O=-1,I=[];v.canvas.addEventListener("webglcontextlost",function(Z){ue(),Z.preventDefault()},!1),n.set(v,b={gl:v,isWebGL2:S,getExtension:Y,withProgram:H,withTexture:W,withTextureFramebuffer:ge,handleContextLoss:ue})}w(b)}function l(P,w,v,b,S,D,A,N){A===void 0&&(A=15),N===void 0&&(N=null),s(P,function(O){var I=O.gl,Y=O.withProgram,ee=O.withTexture;ee("copy",function(H,W){I.texImage2D(I.TEXTURE_2D,0,I.RGBA,S,D,0,I.RGBA,I.UNSIGNED_BYTE,w),Y("copy",a,o,function(ge){var ue=ge.setUniform,Z=ge.setAttribute;Z("aUV",2,I.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),ue("1i","image",W),I.bindFramebuffer(I.FRAMEBUFFER,N||null),I.disable(I.BLEND),I.colorMask(A&8,A&4,A&2,A&1),I.viewport(v,b,S,D),I.scissor(v,b,S,D),I.drawArrays(I.TRIANGLES,0,3)})})})}function f(P,w,v){var b=P.width,S=P.height;s(P,function(D){var A=D.gl,N=new Uint8Array(b*S*4);A.readPixels(0,0,b,S,A.RGBA,A.UNSIGNED_BYTE,N),P.width=w,P.height=v,l(A,N,0,0,b,S)})}var d=Object.freeze({__proto__:null,withWebGLContext:s,renderImageData:l,resizeWebGLCanvasWithoutClearing:f});function p(P,w,v,b,S,D){D===void 0&&(D=1);var A=new Uint8Array(P*w),N=b[2]-b[0],O=b[3]-b[1],I=[];e(v,function(Z,re,se,V){I.push({x1:Z,y1:re,x2:se,y2:V,minX:Math.min(Z,se),minY:Math.min(re,V),maxX:Math.max(Z,se),maxY:Math.max(re,V)})}),I.sort(function(Z,re){return Z.maxX-re.maxX});for(var Y=0;Y<P;Y++)for(var ee=0;ee<w;ee++){var H=ge(b[0]+N*(Y+.5)/P,b[1]+O*(ee+.5)/w),W=Math.pow(1-Math.abs(H)/S,D)/2;H<0&&(W=1-W),W=Math.max(0,Math.min(255,Math.round(W*255))),A[ee*P+Y]=W}return A;function ge(Z,re){for(var se=1/0,V=1/0,te=I.length;te--;){var q=I[te];if(q.maxX+V<=Z)break;if(Z+V>q.minX&&re-V<q.maxY&&re+V>q.minY){var B=G(Z,re,q.x1,q.y1,q.x2,q.y2);B<se&&(se=B,V=Math.sqrt(se))}}return ue(Z,re)&&(V=-V),V}function ue(Z,re){for(var se=0,V=I.length;V--;){var te=I[V];if(te.maxX<=Z)break;var q=te.y1>re!=te.y2>re&&Z<(te.x2-te.x1)*(re-te.y1)/(te.y2-te.y1)+te.x1;q&&(se+=te.y1<te.y2?1:-1)}return se!==0}}function m(P,w,v,b,S,D,A,N,O,I){D===void 0&&(D=1),N===void 0&&(N=0),O===void 0&&(O=0),I===void 0&&(I=0),g(P,w,v,b,S,D,A,null,N,O,I)}function g(P,w,v,b,S,D,A,N,O,I,Y){D===void 0&&(D=1),O===void 0&&(O=0),I===void 0&&(I=0),Y===void 0&&(Y=0);for(var ee=p(P,w,v,b,S,D),H=new Uint8Array(ee.length*4),W=0;W<ee.length;W++)H[W*4+Y]=ee[W];l(A,H,O,I,P,w,1<<3-Y,N)}function G(P,w,v,b,S,D){var A=S-v,N=D-b,O=A*A+N*N,I=O?Math.max(0,Math.min(1,((P-v)*A+(w-b)*N)/O)):0,Y=P-(v+I*A),ee=w-(b+I*N);return Y*Y+ee*ee}var U=Object.freeze({__proto__:null,generate:p,generateIntoCanvas:m,generateIntoFramebuffer:g}),T="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",x="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",k="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),_=null,F=!1,L={},R=new WeakMap;function X(P){if(!F&&!z(P))throw new Error("WebGL generation not supported")}function y(P,w,v,b,S,D,A){if(D===void 0&&(D=1),A===void 0&&(A=null),!A&&(A=_,!A)){var N=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!N)throw new Error("OffscreenCanvas or DOM canvas not supported");A=_=N.getContext("webgl",{depth:!1})}X(A);var O=new Uint8Array(P*w*4);s(A,function(H){var W=H.gl,ge=H.withTexture,ue=H.withTextureFramebuffer;ge("readable",function(Z,re){W.texImage2D(W.TEXTURE_2D,0,W.RGBA,P,w,0,W.RGBA,W.UNSIGNED_BYTE,null),ue(Z,re,function(se){C(P,w,v,b,S,D,W,se,0,0,0),W.readPixels(0,0,P,w,W.RGBA,W.UNSIGNED_BYTE,O)})})});for(var I=new Uint8Array(P*w),Y=0,ee=0;Y<O.length;Y+=4)I[ee++]=O[Y];return I}function E(P,w,v,b,S,D,A,N,O,I){D===void 0&&(D=1),N===void 0&&(N=0),O===void 0&&(O=0),I===void 0&&(I=0),C(P,w,v,b,S,D,A,null,N,O,I)}function C(P,w,v,b,S,D,A,N,O,I,Y){D===void 0&&(D=1),O===void 0&&(O=0),I===void 0&&(I=0),Y===void 0&&(Y=0),X(A);var ee=[];e(v,function(H,W,ge,ue){ee.push(H,W,ge,ue)}),ee=new Float32Array(ee),s(A,function(H){var W=H.gl,ge=H.isWebGL2,ue=H.getExtension,Z=H.withProgram,re=H.withTexture,se=H.withTextureFramebuffer,V=H.handleContextLoss;if(re("rawDistances",function(te,q){(P!==te._lastWidth||w!==te._lastHeight)&&W.texImage2D(W.TEXTURE_2D,0,W.RGBA,te._lastWidth=P,te._lastHeight=w,0,W.RGBA,W.UNSIGNED_BYTE,null),Z("main",T,x,function(B){var he=B.setAttribute,Q=B.setUniform,ae=!ge&&ue("ANGLE_instanced_arrays"),J=!ge&&ue("EXT_blend_minmax");he("aUV",2,W.STATIC_DRAW,0,M),he("aLineSegment",4,W.DYNAMIC_DRAW,1,ee),Q.apply(void 0,["4f","uGlyphBounds"].concat(b)),Q("1f","uMaxDistance",S),Q("1f","uExponent",D),se(te,q,function(xe){W.enable(W.BLEND),W.colorMask(!0,!0,!0,!0),W.viewport(0,0,P,w),W.scissor(0,0,P,w),W.blendFunc(W.ONE,W.ONE),W.blendEquationSeparate(W.FUNC_ADD,ge?W.MAX:J.MAX_EXT),W.clear(W.COLOR_BUFFER_BIT),ge?W.drawArraysInstanced(W.TRIANGLES,0,3,ee.length/4):ae.drawArraysInstancedANGLE(W.TRIANGLES,0,3,ee.length/4)})}),Z("post",a,k,function(B){B.setAttribute("aUV",2,W.STATIC_DRAW,0,M),B.setUniform("1i","tex",q),W.bindFramebuffer(W.FRAMEBUFFER,N),W.disable(W.BLEND),W.colorMask(Y===0,Y===1,Y===2,Y===3),W.viewport(O,I,P,w),W.scissor(O,I,P,w),W.drawArrays(W.TRIANGLES,0,3)})}),W.isContextLost())throw V(),new Error("webgl context lost")})}function z(P){var w=!P||P===_?L:P.canvas||P,v=R.get(w);if(v===void 0){F=!0;var b=null;try{var S=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],D=y(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,P);v=D&&S.length===D.length&&D.every(function(A,N){return A===S[N]}),v||(b="bad trial run results",console.info(S,D))}catch(A){v=!1,b=A.message}b&&console.warn("WebGL SDF generation not supported:",b),F=!1,R.set(w,v)}return v}var j=Object.freeze({__proto__:null,generate:y,generateIntoCanvas:E,generateIntoFramebuffer:C,isSupported:z});function K(P,w,v,b,S,D){S===void 0&&(S=Math.max(b[2]-b[0],b[3]-b[1])/2),D===void 0&&(D=1);try{return y.apply(j,arguments)}catch(A){return console.info("WebGL SDF generation failed, falling back to JS",A),p.apply(U,arguments)}}function $(P,w,v,b,S,D,A,N,O,I){S===void 0&&(S=Math.max(b[2]-b[0],b[3]-b[1])/2),D===void 0&&(D=1),N===void 0&&(N=0),O===void 0&&(O=0),I===void 0&&(I=0);try{return E.apply(j,arguments)}catch(Y){return console.info("WebGL SDF generation failed, falling back to JS",Y),m.apply(U,arguments)}}return t.forEachPathCommand=r,t.generate=K,t.generateIntoCanvas=$,t.javascript=U,t.pathToLineSegments=e,t.webgl=j,t.webglUtils=d,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return u}function ma(){var u=function(t){var h={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},c={},r={};c.L=1,r[1]="L",Object.keys(h).forEach(function(V,te){c[V]=1<<te+1,r[c[V]]=V}),Object.freeze(c);var e=c.LRI|c.RLI|c.FSI,a=c.L|c.R|c.AL,o=c.B|c.S|c.WS|c.ON|c.FSI|c.LRI|c.RLI|c.PDI,n=c.BN|c.RLE|c.LRE|c.RLO|c.LRO|c.PDF,i=c.S|c.WS|c.B|e|c.PDI|n,s=null;function l(){if(!s){s=new Map;var V=function(q){if(h.hasOwnProperty(q)){var B=0;h[q].split(",").forEach(function(he){var Q=he.split("+"),ae=Q[0],J=Q[1];ae=parseInt(ae,36),J=J?parseInt(J,36):0,s.set(B+=ae,c[q]);for(var xe=0;xe<J;xe++)s.set(++B,c[q])})}};for(var te in h)V(te)}}function f(V){return l(),s.get(V.codePointAt(0))||c.L}function d(V){return r[f(V)]}var p={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function m(V,te){var q=36,B=0,he=new Map,Q=te&&new Map,ae;return V.split(",").forEach(function J(xe){if(xe.indexOf("+")!==-1)for(var ne=+xe;ne--;)J(ae);else{ae=xe;var oe=xe.split(">"),fe=oe[0],ve=oe[1];fe=String.fromCodePoint(B+=parseInt(fe,q)),ve=String.fromCodePoint(B+=parseInt(ve,q)),he.set(fe,ve),te&&Q.set(ve,fe)}}),{map:he,reverseMap:Q}}var g,G,U;function T(){if(!g){var V=m(p.pairs,!0),te=V.map,q=V.reverseMap;g=te,G=q,U=m(p.canonical,!1).map}}function x(V){return T(),g.get(V)||null}function k(V){return T(),G.get(V)||null}function M(V){return T(),U.get(V)||null}var _=c.L,F=c.R,L=c.EN,R=c.ES,X=c.ET,y=c.AN,E=c.CS,C=c.B,z=c.S,j=c.ON,K=c.BN,$=c.NSM,P=c.AL,w=c.LRO,v=c.RLO,b=c.LRE,S=c.RLE,D=c.PDF,A=c.LRI,N=c.RLI,O=c.FSI,I=c.PDI;function Y(V,te){for(var q=125,B=new Uint32Array(V.length),he=0;he<V.length;he++)B[he]=f(V[he]);var Q=new Map;function ae(Pe,ze){var Ie=B[Pe];B[Pe]=ze,Q.set(Ie,Q.get(Ie)-1),Ie&o&&Q.set(o,Q.get(o)-1),Q.set(ze,(Q.get(ze)||0)+1),ze&o&&Q.set(o,(Q.get(o)||0)+1)}for(var J=new Uint8Array(V.length),xe=new Map,ne=[],oe=null,fe=0;fe<V.length;fe++)oe||ne.push(oe={start:fe,end:V.length-1,level:te==="rtl"?1:te==="ltr"?0:Qt(fe,!1)}),B[fe]&C&&(oe.end=fe,oe=null);for(var ve=S|b|v|w|e|I|D|C,Se=function(Pe){return Pe+(Pe&1?1:2)},Ae=function(Pe){return Pe+(Pe&1?2:1)},me=0;me<ne.length;me++){oe=ne[me];var ye=[{_level:oe.level,_override:0,_isolate:0}],le=void 0,De=0,Te=0,Be=0;Q.clear();for(var we=oe.start;we<=oe.end;we++){var ce=B[we];if(le=ye[ye.length-1],Q.set(ce,(Q.get(ce)||0)+1),ce&o&&Q.set(o,(Q.get(o)||0)+1),ce&ve)if(ce&(S|b)){J[we]=le._level;var _e=(ce===S?Ae:Se)(le._level);_e<=q&&!De&&!Te?ye.push({_level:_e,_override:0,_isolate:0}):De||Te++}else if(ce&(v|w)){J[we]=le._level;var Qe=(ce===v?Ae:Se)(le._level);Qe<=q&&!De&&!Te?ye.push({_level:Qe,_override:ce&v?F:_,_isolate:0}):De||Te++}else if(ce&e){ce&O&&(ce=Qt(we+1,!0)===1?N:A),J[we]=le._level,le._override&&ae(we,le._override);var Ue=(ce===N?Ae:Se)(le._level);Ue<=q&&De===0&&Te===0?(Be++,ye.push({_level:Ue,_override:0,_isolate:1,_isolInitIndex:we})):De++}else if(ce&I){if(De>0)De--;else if(Be>0){for(Te=0;!ye[ye.length-1]._isolate;)ye.pop();var be=ye[ye.length-1]._isolInitIndex;be!=null&&(xe.set(be,we),xe.set(we,be)),ye.pop(),Be--}le=ye[ye.length-1],J[we]=le._level,le._override&&ae(we,le._override)}else ce&D?(De===0&&(Te>0?Te--:!le._isolate&&ye.length>1&&(ye.pop(),le=ye[ye.length-1])),J[we]=le._level):ce&C&&(J[we]=oe.level);else J[we]=le._level,le._override&&ce!==K&&ae(we,le._override)}for(var Ee=[],Fe=null,pe=oe.start;pe<=oe.end;pe++){var Ce=B[pe];if(!(Ce&n)){var Ge=J[pe],Oe=Ce&e,Me=Ce===I;Fe&&Ge===Fe._level?(Fe._end=pe,Fe._endsWithIsolInit=Oe):Ee.push(Fe={_start:pe,_end:pe,_level:Ge,_startsWithPDI:Me,_endsWithIsolInit:Oe})}}for(var je=[],Ze=0;Ze<Ee.length;Ze++){var Je=Ee[Ze];if(!Je._startsWithPDI||Je._startsWithPDI&&!xe.has(Je._start)){for(var qe=[Fe=Je],tr=void 0;Fe&&Fe._endsWithIsolInit&&(tr=xe.get(Fe._end))!=null;)for(var Ke=Ze+1;Ke<Ee.length;Ke++)if(Ee[Ke]._start===tr){qe.push(Fe=Ee[Ke]);break}for(var Le=[],nr=0;nr<qe.length;nr++)for(var Dt=qe[nr],Jr=Dt._start;Jr<=Dt._end;Jr++)Le.push(Jr);for(var En=J[Le[0]],Et=oe.level,Fr=Le[0]-1;Fr>=0;Fr--)if(!(B[Fr]&n)){Et=J[Fr];break}var Kr=Le[Le.length-1],Mn=J[Kr],Mt=oe.level;if(!(B[Kr]&e)){for(var Cr=Kr+1;Cr<=oe.end;Cr++)if(!(B[Cr]&n)){Mt=J[Cr];break}}je.push({_seqIndices:Le,_sosType:Math.max(Et,En)%2?F:_,_eosType:Math.max(Mt,Mn)%2?F:_})}}for(var Qr=0;Qr<je.length;Qr++){var Zr=je[Qr],ie=Zr._seqIndices,vr=Zr._sosType,Rn=Zr._eosType,sr=J[ie[0]]&1?F:_;if(Q.get($))for(var Ar=0;Ar<ie.length;Ar++){var Rt=ie[Ar];if(B[Rt]&$){for(var qr=vr,Dr=Ar-1;Dr>=0;Dr--)if(!(B[ie[Dr]]&n)){qr=B[ie[Dr]];break}ae(Rt,qr&(e|I)?j:qr)}}if(Q.get(L))for(var Er=0;Er<ie.length;Er++){var Ot=ie[Er];if(B[Ot]&L)for(var Mr=Er-1;Mr>=-1;Mr--){var Gt=Mr===-1?vr:B[ie[Mr]];if(Gt&a){Gt===P&&ae(Ot,y);break}}}if(Q.get(P))for(var $r=0;$r<ie.length;$r++){var Lt=ie[$r];B[Lt]&P&&ae(Lt,F)}if(Q.get(R)||Q.get(E))for(var pr=1;pr<ie.length-1;pr++){var et=ie[pr];if(B[et]&(R|E)){for(var lr=0,rt=0,tt=pr-1;tt>=0&&(lr=B[ie[tt]],!!(lr&n));tt--);for(var nt=pr+1;nt<ie.length&&(rt=B[ie[nt]],!!(rt&n));nt++);lr===rt&&(B[et]===R?lr===L:lr&(L|y))&&ae(et,lr)}}if(Q.get(L))for(var Xe=0;Xe<ie.length;Xe++){var On=ie[Xe];if(B[On]&L){for(var Rr=Xe-1;Rr>=0&&B[ie[Rr]]&(X|n);Rr--)ae(ie[Rr],L);for(Xe++;Xe<ie.length&&B[ie[Xe]]&(X|n|L);Xe++)B[ie[Xe]]!==L&&ae(ie[Xe],L)}}if(Q.get(X)||Q.get(R)||Q.get(E))for(var gr=0;gr<ie.length;gr++){var Bt=ie[gr];if(B[Bt]&(X|R|E)){ae(Bt,j);for(var Or=gr-1;Or>=0&&B[ie[Or]]&n;Or--)ae(ie[Or],j);for(var Gr=gr+1;Gr<ie.length&&B[ie[Gr]]&n;Gr++)ae(ie[Gr],j)}}if(Q.get(L))for(var at=0,Pt=vr;at<ie.length;at++){var It=ie[at],ot=B[It];ot&L?Pt===_&&ae(It,_):ot&a&&(Pt=ot)}if(Q.get(o)){var mr=F|L|y,Nt=mr|_,Lr=[];{for(var fr=[],ur=0;ur<ie.length;ur++)if(B[ie[ur]]&o){var yr=V[ie[ur]],jt=void 0;if(x(yr)!==null)if(fr.length<63)fr.push({char:yr,seqIndex:ur});else break;else if((jt=k(yr))!==null)for(var br=fr.length-1;br>=0;br--){var it=fr[br].char;if(it===jt||it===k(M(yr))||x(M(it))===yr){Lr.push([fr[br].seqIndex,ur]),fr.length=br;break}}}Lr.sort(function(Pe,ze){return Pe[0]-ze[0]})}for(var st=0;st<Lr.length;st++){for(var Wt=Lr[st],Br=Wt[0],lt=Wt[1],zt=!1,We=0,ft=Br+1;ft<lt;ft++){var Vt=ie[ft];if(B[Vt]&Nt){zt=!0;var Ht=B[Vt]&mr?F:_;if(Ht===sr){We=Ht;break}}}if(zt&&!We){We=vr;for(var ut=Br-1;ut>=0;ut--){var Xt=ie[ut];if(B[Xt]&Nt){var Yt=B[Xt]&mr?F:_;Yt!==sr?We=Yt:We=sr;break}}}if(We){if(B[ie[Br]]=B[ie[lt]]=We,We!==sr){for(var xr=Br+1;xr<ie.length;xr++)if(!(B[ie[xr]]&n)){f(V[ie[xr]])&$&&(B[ie[xr]]=We);break}}if(We!==sr){for(var _r=lt+1;_r<ie.length;_r++)if(!(B[ie[_r]]&n)){f(V[ie[_r]])&$&&(B[ie[_r]]=We);break}}}}for(var $e=0;$e<ie.length;$e++)if(B[ie[$e]]&o){for(var Jt=$e,ct=$e,dt=vr,Ur=$e-1;Ur>=0;Ur--)if(B[ie[Ur]]&n)Jt=Ur;else{dt=B[ie[Ur]]&mr?F:_;break}for(var Kt=Rn,Sr=$e+1;Sr<ie.length;Sr++)if(B[ie[Sr]]&(o|n))ct=Sr;else{Kt=B[ie[Sr]]&mr?F:_;break}for(var ht=Jt;ht<=ct;ht++)B[ie[ht]]=dt===Kt?dt:sr;$e=ct}}}for(var Ne=oe.start;Ne<=oe.end;Ne++){var Gn=J[Ne],Pr=B[Ne];if(Gn&1?Pr&(_|L|y)&&J[Ne]++:Pr&F?J[Ne]++:Pr&(y|L)&&(J[Ne]+=2),Pr&n&&(J[Ne]=Ne===0?oe.level:J[Ne-1]),Ne===oe.end||f(V[Ne])&(z|C))for(var Ir=Ne;Ir>=0&&f(V[Ir])&i;Ir--)J[Ir]=oe.level}}return{levels:J,paragraphs:ne};function Qt(Pe,ze){for(var Ie=Pe;Ie<V.length;Ie++){var er=B[Ie];if(er&(F|P))return 1;if(er&(C|_)||ze&&er===I)return 0;if(er&e){var Zt=Ln(Ie);Ie=Zt===-1?V.length:Zt}}return 0}function Ln(Pe){for(var ze=1,Ie=Pe+1;Ie<V.length;Ie++){var er=B[Ie];if(er&C)break;if(er&I){if(--ze===0)return Ie}else er&e&&ze++}return-1}}var ee="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",H;function W(){if(!H){var V=m(ee,!0),te=V.map,q=V.reverseMap;q.forEach(function(B,he){te.set(he,B)}),H=te}}function ge(V){return W(),H.get(V)||null}function ue(V,te,q,B){var he=V.length;q=Math.max(0,q==null?0:+q),B=Math.min(he-1,B==null?he-1:+B);for(var Q=new Map,ae=q;ae<=B;ae++)if(te[ae]&1){var J=ge(V[ae]);J!==null&&Q.set(ae,J)}return Q}function Z(V,te,q,B){var he=V.length;q=Math.max(0,q==null?0:+q),B=Math.min(he-1,B==null?he-1:+B);var Q=[];return te.paragraphs.forEach(function(ae){var J=Math.max(q,ae.start),xe=Math.min(B,ae.end);if(J<xe){for(var ne=te.levels.slice(J,xe+1),oe=xe;oe>=J&&f(V[oe])&i;oe--)ne[oe]=ae.level;for(var fe=ae.level,ve=1/0,Se=0;Se<ne.length;Se++){var Ae=ne[Se];Ae>fe&&(fe=Ae),Ae<ve&&(ve=Ae|1)}for(var me=fe;me>=ve;me--)for(var ye=0;ye<ne.length;ye++)if(ne[ye]>=me){for(var le=ye;ye+1<ne.length&&ne[ye+1]>=me;)ye++;ye>le&&Q.push([le+J,ye+J])}}}),Q}function re(V,te,q,B){var he=se(V,te,q,B),Q=[].concat(V);return he.forEach(function(ae,J){Q[J]=(te.levels[ae]&1?ge(V[ae]):null)||V[ae]}),Q.join("")}function se(V,te,q,B){for(var he=Z(V,te,q,B),Q=[],ae=0;ae<V.length;ae++)Q[ae]=ae;return he.forEach(function(J){for(var xe=J[0],ne=J[1],oe=Q.slice(xe,ne+1),fe=oe.length;fe--;)Q[ne-fe]=oe[fe]}),Q}return t.closingToOpeningBracket=k,t.getBidiCharType=f,t.getBidiCharTypeName=d,t.getCanonicalBracket=M,t.getEmbeddingLevels=Y,t.getMirroredCharacter=ge,t.getMirroredCharactersMap=ue,t.getReorderSegments=Z,t.getReorderedIndices=se,t.getReorderedString=re,t.openingToClosingBracket=x,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return u}const xn=/\bvoid\s+main\s*\(\s*\)\s*{/g;function bt(u){const t=/^[ \t]*#include +<([\w\d./]+)>/gm;function h(c,r){let e=Wn[r];return e?bt(e):c}return u.replace(t,h)}const Re=[];for(let u=0;u<256;u++)Re[u]=(u<16?"0":"")+u.toString(16);function ya(){const u=Math.random()*4294967295|0,t=Math.random()*4294967295|0,h=Math.random()*4294967295|0,c=Math.random()*4294967295|0;return(Re[u&255]+Re[u>>8&255]+Re[u>>16&255]+Re[u>>24&255]+"-"+Re[t&255]+Re[t>>8&255]+"-"+Re[t>>16&15|64]+Re[t>>24&255]+"-"+Re[h&63|128]+Re[h>>8&255]+"-"+Re[h>>16&255]+Re[h>>24&255]+Re[c&255]+Re[c>>8&255]+Re[c>>16&255]+Re[c>>24&255]).toUpperCase()}const ar=Object.assign||function(){let u=arguments[0];for(let t=1,h=arguments.length;t<h;t++){let c=arguments[t];if(c)for(let r in c)Object.prototype.hasOwnProperty.call(c,r)&&(u[r]=c[r])}return u},ba=Date.now(),rn=new WeakMap,tn=new Map;let xa=1e10;function xt(u,t){const h=wa(t);let c=rn.get(u);if(c||rn.set(u,c=Object.create(null)),c[h])return new c[h];const r=`_onBeforeCompile${h}`,e=function(i,s){u.onBeforeCompile.call(this,i,s);const l=this.customProgramCacheKey()+"|"+i.vertexShader+"|"+i.fragmentShader;let f=tn[l];if(!f){const d=_a(this,i,t,h);f=tn[l]=d}i.vertexShader=f.vertexShader,i.fragmentShader=f.fragmentShader,ar(i.uniforms,this.uniforms),t.timeUniform&&(i.uniforms[t.timeUniform]={get value(){return Date.now()-ba}}),this[r]&&this[r](i)},a=function(){return o(t.chained?u:u.clone())},o=function(i){const s=Object.create(i,n);return Object.defineProperty(s,"baseMaterial",{value:u}),Object.defineProperty(s,"id",{value:xa++}),s.uuid=ya(),s.uniforms=ar({},i.uniforms,t.uniforms),s.defines=ar({},i.defines,t.defines),s.defines[`TROIKA_DERIVED_MATERIAL_${h}`]="",s.extensions=ar({},i.extensions,t.extensions),s._listeners=void 0,s},n={constructor:{value:a},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return u.customProgramCacheKey()+"|"+h}},onBeforeCompile:{get(){return e},set(i){this[r]=i}},copy:{writable:!0,configurable:!0,value:function(i){return u.copy.call(this,i),!u.isShaderMaterial&&!u.isDerivedMaterial&&(ar(this.extensions,i.extensions),ar(this.defines,i.defines),ar(this.uniforms,Pn.clone(i.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const i=new u.constructor;return o(i).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let i=this._depthMaterial;return i||(i=this._depthMaterial=xt(u.isDerivedMaterial?u.getDepthMaterial():new In({depthPacking:Nn}),t),i.defines.IS_DEPTH_MATERIAL="",i.uniforms=this.uniforms),i}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let i=this._distanceMaterial;return i||(i=this._distanceMaterial=xt(u.isDerivedMaterial?u.getDistanceMaterial():new jn,t),i.defines.IS_DISTANCE_MATERIAL="",i.uniforms=this.uniforms),i}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:i,_distanceMaterial:s}=this;i&&i.dispose(),s&&s.dispose(),u.dispose.call(this)}}};return c[h]=a,new a}function _a(u,{vertexShader:t,fragmentShader:h},c,r){let{vertexDefs:e,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:n,fragmentDefs:i,fragmentMainIntro:s,fragmentMainOutro:l,fragmentColorTransform:f,customRewriter:d,timeUniform:p}=c;if(e=e||"",a=a||"",o=o||"",i=i||"",s=s||"",l=l||"",(n||d)&&(t=bt(t)),(f||d)&&(h=h.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),h=bt(h)),d){let m=d({vertexShader:t,fragmentShader:h});t=m.vertexShader,h=m.fragmentShader}if(f){let m=[];h=h.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,g=>(m.push(g),"")),l=`${f}
${m.join(`
`)}
${l}`}if(p){const m=`
uniform float ${p};
`;e=m+e,i=m+i}return n&&(t=`vec3 troika_position_${r};
vec3 troika_normal_${r};
vec2 troika_uv_${r};
${t}
`,e=`${e}
void troikaVertexTransform${r}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${n}
}
`,a=`
troika_position_${r} = vec3(position);
troika_normal_${r} = vec3(normal);
troika_uv_${r} = vec2(uv);
troikaVertexTransform${r}(troika_position_${r}, troika_normal_${r}, troika_uv_${r});
${a}
`,t=t.replace(/\b(position|normal|uv)\b/g,(m,g,G,U)=>/\battribute\s+vec[23]\s+$/.test(U.substr(0,G))?g:`troika_${g}_${r}`),u.map&&u.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${r}`))),t=nn(t,r,e,a,o),h=nn(h,r,i,s,l),{vertexShader:t,fragmentShader:h}}function nn(u,t,h,c,r){return(c||r||h)&&(u=u.replace(xn,`
${h}
void troikaOrigMain${t}() {`),u+=`
void main() {
  ${c}
  troikaOrigMain${t}();
  ${r}
}`),u}function Ua(u,t){return u==="uniforms"?void 0:typeof t=="function"?t.toString():t}let Sa=0;const an=new Map;function wa(u){const t=JSON.stringify(u,Ua);let h=an.get(t);return h==null&&an.set(t,h=++Sa),h}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function ka(){return typeof window>"u"&&(self.window=self),function(u){var t={parse:function(r){var e=t._bin,a=new Uint8Array(r);if(e.readASCII(a,0,4)=="ttcf"){var o=4;e.readUshort(a,o),o+=2,e.readUshort(a,o),o+=2;var n=e.readUint(a,o);o+=4;for(var i=[],s=0;s<n;s++){var l=e.readUint(a,o);o+=4,i.push(t._readFont(a,l))}return i}return[t._readFont(a,0)]},_readFont:function(r,e){var a=t._bin,o=e;a.readFixed(r,e),e+=4;var n=a.readUshort(r,e);e+=2,a.readUshort(r,e),e+=2,a.readUshort(r,e),e+=2,a.readUshort(r,e),e+=2;for(var i=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],s={_data:r,_offset:o},l={},f=0;f<n;f++){var d=a.readASCII(r,e,4);e+=4,a.readUint(r,e),e+=4;var p=a.readUint(r,e);e+=4;var m=a.readUint(r,e);e+=4,l[d]={offset:p,length:m}}for(f=0;f<i.length;f++){var g=i[f];l[g]&&(s[g.trim()]=t[g.trim()].parse(r,l[g].offset,l[g].length,s))}return s},_tabOffset:function(r,e,a){for(var o=t._bin,n=o.readUshort(r,a+4),i=a+12,s=0;s<n;s++){var l=o.readASCII(r,i,4);i+=4,o.readUint(r,i),i+=4;var f=o.readUint(r,i);if(i+=4,o.readUint(r,i),i+=4,l==e)return f}return 0}};t._bin={readFixed:function(r,e){return(r[e]<<8|r[e+1])+(r[e+2]<<8|r[e+3])/65540},readF2dot14:function(r,e){return t._bin.readShort(r,e)/16384},readInt:function(r,e){return t._bin._view(r).getInt32(e)},readInt8:function(r,e){return t._bin._view(r).getInt8(e)},readShort:function(r,e){return t._bin._view(r).getInt16(e)},readUshort:function(r,e){return t._bin._view(r).getUint16(e)},readUshorts:function(r,e,a){for(var o=[],n=0;n<a;n++)o.push(t._bin.readUshort(r,e+2*n));return o},readUint:function(r,e){return t._bin._view(r).getUint32(e)},readUint64:function(r,e){return 4294967296*t._bin.readUint(r,e)+t._bin.readUint(r,e+4)},readASCII:function(r,e,a){for(var o="",n=0;n<a;n++)o+=String.fromCharCode(r[e+n]);return o},readUnicode:function(r,e,a){for(var o="",n=0;n<a;n++){var i=r[e++]<<8|r[e++];o+=String.fromCharCode(i)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(r,e,a){var o=t._bin._tdec;return o&&e==0&&a==r.length?o.decode(r):t._bin.readASCII(r,e,a)},readBytes:function(r,e,a){for(var o=[],n=0;n<a;n++)o.push(r[e+n]);return o},readASCIIArray:function(r,e,a){for(var o=[],n=0;n<a;n++)o.push(String.fromCharCode(r[e+n]));return o},_view:function(r){return r._dataView||(r._dataView=r.buffer?new DataView(r.buffer,r.byteOffset,r.byteLength):new DataView(new Uint8Array(r).buffer))}},t._lctf={},t._lctf.parse=function(r,e,a,o,n){var i=t._bin,s={},l=e;i.readFixed(r,e),e+=4;var f=i.readUshort(r,e);e+=2;var d=i.readUshort(r,e);e+=2;var p=i.readUshort(r,e);return e+=2,s.scriptList=t._lctf.readScriptList(r,l+f),s.featureList=t._lctf.readFeatureList(r,l+d),s.lookupList=t._lctf.readLookupList(r,l+p,n),s},t._lctf.readLookupList=function(r,e,a){var o=t._bin,n=e,i=[],s=o.readUshort(r,e);e+=2;for(var l=0;l<s;l++){var f=o.readUshort(r,e);e+=2;var d=t._lctf.readLookupTable(r,n+f,a);i.push(d)}return i},t._lctf.readLookupTable=function(r,e,a){var o=t._bin,n=e,i={tabs:[]};i.ltype=o.readUshort(r,e),e+=2,i.flag=o.readUshort(r,e),e+=2;var s=o.readUshort(r,e);e+=2;for(var l=i.ltype,f=0;f<s;f++){var d=o.readUshort(r,e);e+=2;var p=a(r,l,n+d,i);i.tabs.push(p)}return i},t._lctf.numOfOnes=function(r){for(var e=0,a=0;a<32;a++)r>>>a&1&&e++;return e},t._lctf.readClassDef=function(r,e){var a=t._bin,o=[],n=a.readUshort(r,e);if(e+=2,n==1){var i=a.readUshort(r,e);e+=2;var s=a.readUshort(r,e);e+=2;for(var l=0;l<s;l++)o.push(i+l),o.push(i+l),o.push(a.readUshort(r,e)),e+=2}if(n==2){var f=a.readUshort(r,e);for(e+=2,l=0;l<f;l++)o.push(a.readUshort(r,e)),e+=2,o.push(a.readUshort(r,e)),e+=2,o.push(a.readUshort(r,e)),e+=2}return o},t._lctf.getInterval=function(r,e){for(var a=0;a<r.length;a+=3){var o=r[a],n=r[a+1];if(r[a+2],o<=e&&e<=n)return a}return-1},t._lctf.readCoverage=function(r,e){var a=t._bin,o={};o.fmt=a.readUshort(r,e),e+=2;var n=a.readUshort(r,e);return e+=2,o.fmt==1&&(o.tab=a.readUshorts(r,e,n)),o.fmt==2&&(o.tab=a.readUshorts(r,e,3*n)),o},t._lctf.coverageIndex=function(r,e){var a=r.tab;if(r.fmt==1)return a.indexOf(e);if(r.fmt==2){var o=t._lctf.getInterval(a,e);if(o!=-1)return a[o+2]+(e-a[o])}return-1},t._lctf.readFeatureList=function(r,e){var a=t._bin,o=e,n=[],i=a.readUshort(r,e);e+=2;for(var s=0;s<i;s++){var l=a.readASCII(r,e,4);e+=4;var f=a.readUshort(r,e);e+=2;var d=t._lctf.readFeatureTable(r,o+f);d.tag=l.trim(),n.push(d)}return n},t._lctf.readFeatureTable=function(r,e){var a=t._bin,o=e,n={},i=a.readUshort(r,e);e+=2,i>0&&(n.featureParams=o+i);var s=a.readUshort(r,e);e+=2,n.tab=[];for(var l=0;l<s;l++)n.tab.push(a.readUshort(r,e+2*l));return n},t._lctf.readScriptList=function(r,e){var a=t._bin,o=e,n={},i=a.readUshort(r,e);e+=2;for(var s=0;s<i;s++){var l=a.readASCII(r,e,4);e+=4;var f=a.readUshort(r,e);e+=2,n[l.trim()]=t._lctf.readScriptTable(r,o+f)}return n},t._lctf.readScriptTable=function(r,e){var a=t._bin,o=e,n={},i=a.readUshort(r,e);e+=2,i>0&&(n.default=t._lctf.readLangSysTable(r,o+i));var s=a.readUshort(r,e);e+=2;for(var l=0;l<s;l++){var f=a.readASCII(r,e,4);e+=4;var d=a.readUshort(r,e);e+=2,n[f.trim()]=t._lctf.readLangSysTable(r,o+d)}return n},t._lctf.readLangSysTable=function(r,e){var a=t._bin,o={};a.readUshort(r,e),e+=2,o.reqFeature=a.readUshort(r,e),e+=2;var n=a.readUshort(r,e);return e+=2,o.features=a.readUshorts(r,e,n),o},t.CFF={},t.CFF.parse=function(r,e,a){var o=t._bin;(r=new Uint8Array(r.buffer,e,a))[e=0],r[++e],r[++e],r[++e],e++;var n=[];e=t.CFF.readIndex(r,e,n);for(var i=[],s=0;s<n.length-1;s++)i.push(o.readASCII(r,e+n[s],n[s+1]-n[s]));e+=n[n.length-1];var l=[];e=t.CFF.readIndex(r,e,l);var f=[];for(s=0;s<l.length-1;s++)f.push(t.CFF.readDict(r,e+l[s],e+l[s+1]));e+=l[l.length-1];var d=f[0],p=[];e=t.CFF.readIndex(r,e,p);var m=[];for(s=0;s<p.length-1;s++)m.push(o.readASCII(r,e+p[s],p[s+1]-p[s]));if(e+=p[p.length-1],t.CFF.readSubrs(r,e,d),d.CharStrings){e=d.CharStrings,p=[],e=t.CFF.readIndex(r,e,p);var g=[];for(s=0;s<p.length-1;s++)g.push(o.readBytes(r,e+p[s],p[s+1]-p[s]));d.CharStrings=g}if(d.ROS){e=d.FDArray;var G=[];for(e=t.CFF.readIndex(r,e,G),d.FDArray=[],s=0;s<G.length-1;s++){var U=t.CFF.readDict(r,e+G[s],e+G[s+1]);t.CFF._readFDict(r,U,m),d.FDArray.push(U)}e+=G[G.length-1],e=d.FDSelect,d.FDSelect=[];var T=r[e];if(e++,T!=3)throw T;var x=o.readUshort(r,e);for(e+=2,s=0;s<x+1;s++)d.FDSelect.push(o.readUshort(r,e),r[e+2]),e+=3}return d.Encoding&&(d.Encoding=t.CFF.readEncoding(r,d.Encoding,d.CharStrings.length)),d.charset&&(d.charset=t.CFF.readCharset(r,d.charset,d.CharStrings.length)),t.CFF._readFDict(r,d,m),d},t.CFF._readFDict=function(r,e,a){var o;for(var n in e.Private&&(o=e.Private[1],e.Private=t.CFF.readDict(r,o,o+e.Private[0]),e.Private.Subrs&&t.CFF.readSubrs(r,o+e.Private.Subrs,e.Private)),e)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(n)!=-1&&(e[n]=a[e[n]-426+35])},t.CFF.readSubrs=function(r,e,a){var o=t._bin,n=[];e=t.CFF.readIndex(r,e,n);var i,s=n.length;i=s<1240?107:s<33900?1131:32768,a.Bias=i,a.Subrs=[];for(var l=0;l<n.length-1;l++)a.Subrs.push(o.readBytes(r,e+n[l],n[l+1]-n[l]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(r,e){for(var a=0;a<r.charset.length;a++)if(r.charset[a]==e)return a;return-1},t.CFF.glyphBySE=function(r,e){return e<0||e>255?-1:t.CFF.glyphByUnicode(r,t.CFF.tableSE[e])},t.CFF.readEncoding=function(r,e,a){t._bin;var o=[".notdef"],n=r[e];if(e++,n!=0)throw"error: unknown encoding format: "+n;var i=r[e];e++;for(var s=0;s<i;s++)o.push(r[e+s]);return o},t.CFF.readCharset=function(r,e,a){var o=t._bin,n=[".notdef"],i=r[e];if(e++,i==0)for(var s=0;s<a;s++){var l=o.readUshort(r,e);e+=2,n.push(l)}else{if(i!=1&&i!=2)throw"error: format: "+i;for(;n.length<a;){l=o.readUshort(r,e),e+=2;var f=0;for(i==1?(f=r[e],e++):(f=o.readUshort(r,e),e+=2),s=0;s<=f;s++)n.push(l),l++}}return n},t.CFF.readIndex=function(r,e,a){var o=t._bin,n=o.readUshort(r,e)+1,i=r[e+=2];if(e++,i==1)for(var s=0;s<n;s++)a.push(r[e+s]);else if(i==2)for(s=0;s<n;s++)a.push(o.readUshort(r,e+2*s));else if(i==3)for(s=0;s<n;s++)a.push(16777215&o.readUint(r,e+3*s-1));else if(n!=1)throw"unsupported offset size: "+i+", count: "+n;return(e+=n*i)-1},t.CFF.getCharString=function(r,e,a){var o=t._bin,n=r[e],i=r[e+1];r[e+2],r[e+3],r[e+4];var s=1,l=null,f=null;n<=20&&(l=n,s=1),n==12&&(l=100*n+i,s=2),21<=n&&n<=27&&(l=n,s=1),n==28&&(f=o.readShort(r,e+1),s=3),29<=n&&n<=31&&(l=n,s=1),32<=n&&n<=246&&(f=n-139,s=1),247<=n&&n<=250&&(f=256*(n-247)+i+108,s=2),251<=n&&n<=254&&(f=256*-(n-251)-i-108,s=2),n==255&&(f=o.readInt(r,e+1)/65535,s=5),a.val=f??"o"+l,a.size=s},t.CFF.readCharString=function(r,e,a){for(var o=e+a,n=t._bin,i=[];e<o;){var s=r[e],l=r[e+1];r[e+2],r[e+3],r[e+4];var f=1,d=null,p=null;s<=20&&(d=s,f=1),s==12&&(d=100*s+l,f=2),s!=19&&s!=20||(d=s,f=2),21<=s&&s<=27&&(d=s,f=1),s==28&&(p=n.readShort(r,e+1),f=3),29<=s&&s<=31&&(d=s,f=1),32<=s&&s<=246&&(p=s-139,f=1),247<=s&&s<=250&&(p=256*(s-247)+l+108,f=2),251<=s&&s<=254&&(p=256*-(s-251)-l-108,f=2),s==255&&(p=n.readInt(r,e+1)/65535,f=5),i.push(p??"o"+d),e+=f}return i},t.CFF.readDict=function(r,e,a){for(var o=t._bin,n={},i=[];e<a;){var s=r[e],l=r[e+1];r[e+2],r[e+3],r[e+4];var f=1,d=null,p=null;if(s==28&&(p=o.readShort(r,e+1),f=3),s==29&&(p=o.readInt(r,e+1),f=5),32<=s&&s<=246&&(p=s-139,f=1),247<=s&&s<=250&&(p=256*(s-247)+l+108,f=2),251<=s&&s<=254&&(p=256*-(s-251)-l-108,f=2),s==255)throw p=o.readInt(r,e+1)/65535,f=5,"unknown number";if(s==30){var m=[];for(f=1;;){var g=r[e+f];f++;var G=g>>4,U=15&g;if(G!=15&&m.push(G),U!=15&&m.push(U),U==15)break}for(var T="",x=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],k=0;k<m.length;k++)T+=x[m[k]];p=parseFloat(T)}s<=21&&(d=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][s],f=1,s==12&&(d=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][l],f=2)),d!=null?(n[d]=i.length==1?i[0]:i,i=[]):i.push(p),e+=f}return n},t.cmap={},t.cmap.parse=function(r,e,a){r=new Uint8Array(r.buffer,e,a),e=0;var o=t._bin,n={};o.readUshort(r,e),e+=2;var i=o.readUshort(r,e);e+=2;var s=[];n.tables=[];for(var l=0;l<i;l++){var f=o.readUshort(r,e);e+=2;var d=o.readUshort(r,e);e+=2;var p=o.readUint(r,e);e+=4;var m="p"+f+"e"+d,g=s.indexOf(p);if(g==-1){var G;g=n.tables.length,s.push(p);var U=o.readUshort(r,p);U==0?G=t.cmap.parse0(r,p):U==4?G=t.cmap.parse4(r,p):U==6?G=t.cmap.parse6(r,p):U==12?G=t.cmap.parse12(r,p):console.debug("unknown format: "+U,f,d,p),n.tables.push(G)}if(n[m]!=null)throw"multiple tables for one platform+encoding";n[m]=g}return n},t.cmap.parse0=function(r,e){var a=t._bin,o={};o.format=a.readUshort(r,e),e+=2;var n=a.readUshort(r,e);e+=2,a.readUshort(r,e),e+=2,o.map=[];for(var i=0;i<n-6;i++)o.map.push(r[e+i]);return o},t.cmap.parse4=function(r,e){var a=t._bin,o=e,n={};n.format=a.readUshort(r,e),e+=2;var i=a.readUshort(r,e);e+=2,a.readUshort(r,e),e+=2;var s=a.readUshort(r,e);e+=2;var l=s/2;n.searchRange=a.readUshort(r,e),e+=2,n.entrySelector=a.readUshort(r,e),e+=2,n.rangeShift=a.readUshort(r,e),e+=2,n.endCount=a.readUshorts(r,e,l),e+=2*l,e+=2,n.startCount=a.readUshorts(r,e,l),e+=2*l,n.idDelta=[];for(var f=0;f<l;f++)n.idDelta.push(a.readShort(r,e)),e+=2;for(n.idRangeOffset=a.readUshorts(r,e,l),e+=2*l,n.glyphIdArray=[];e<o+i;)n.glyphIdArray.push(a.readUshort(r,e)),e+=2;return n},t.cmap.parse6=function(r,e){var a=t._bin,o={};o.format=a.readUshort(r,e),e+=2,a.readUshort(r,e),e+=2,a.readUshort(r,e),e+=2,o.firstCode=a.readUshort(r,e),e+=2;var n=a.readUshort(r,e);e+=2,o.glyphIdArray=[];for(var i=0;i<n;i++)o.glyphIdArray.push(a.readUshort(r,e)),e+=2;return o},t.cmap.parse12=function(r,e){var a=t._bin,o={};o.format=a.readUshort(r,e),e+=2,e+=2,a.readUint(r,e),e+=4,a.readUint(r,e),e+=4;var n=a.readUint(r,e);e+=4,o.groups=[];for(var i=0;i<n;i++){var s=e+12*i,l=a.readUint(r,s+0),f=a.readUint(r,s+4),d=a.readUint(r,s+8);o.groups.push([l,f,d])}return o},t.glyf={},t.glyf.parse=function(r,e,a,o){for(var n=[],i=0;i<o.maxp.numGlyphs;i++)n.push(null);return n},t.glyf._parseGlyf=function(r,e){var a=t._bin,o=r._data,n=t._tabOffset(o,"glyf",r._offset)+r.loca[e];if(r.loca[e]==r.loca[e+1])return null;var i={};if(i.noc=a.readShort(o,n),n+=2,i.xMin=a.readShort(o,n),n+=2,i.yMin=a.readShort(o,n),n+=2,i.xMax=a.readShort(o,n),n+=2,i.yMax=a.readShort(o,n),n+=2,i.xMin>=i.xMax||i.yMin>=i.yMax)return null;if(i.noc>0){i.endPts=[];for(var s=0;s<i.noc;s++)i.endPts.push(a.readUshort(o,n)),n+=2;var l=a.readUshort(o,n);if(n+=2,o.length-n<l)return null;i.instructions=a.readBytes(o,n,l),n+=l;var f=i.endPts[i.noc-1]+1;for(i.flags=[],s=0;s<f;s++){var d=o[n];if(n++,i.flags.push(d),(8&d)!=0){var p=o[n];n++;for(var m=0;m<p;m++)i.flags.push(d),s++}}for(i.xs=[],s=0;s<f;s++){var g=(2&i.flags[s])!=0,G=(16&i.flags[s])!=0;g?(i.xs.push(G?o[n]:-o[n]),n++):G?i.xs.push(0):(i.xs.push(a.readShort(o,n)),n+=2)}for(i.ys=[],s=0;s<f;s++)g=(4&i.flags[s])!=0,G=(32&i.flags[s])!=0,g?(i.ys.push(G?o[n]:-o[n]),n++):G?i.ys.push(0):(i.ys.push(a.readShort(o,n)),n+=2);var U=0,T=0;for(s=0;s<f;s++)U+=i.xs[s],T+=i.ys[s],i.xs[s]=U,i.ys[s]=T}else{var x;i.parts=[];do{x=a.readUshort(o,n),n+=2;var k={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(i.parts.push(k),k.glyphIndex=a.readUshort(o,n),n+=2,1&x){var M=a.readShort(o,n);n+=2;var _=a.readShort(o,n);n+=2}else M=a.readInt8(o,n),n++,_=a.readInt8(o,n),n++;2&x?(k.m.tx=M,k.m.ty=_):(k.p1=M,k.p2=_),8&x?(k.m.a=k.m.d=a.readF2dot14(o,n),n+=2):64&x?(k.m.a=a.readF2dot14(o,n),n+=2,k.m.d=a.readF2dot14(o,n),n+=2):128&x&&(k.m.a=a.readF2dot14(o,n),n+=2,k.m.b=a.readF2dot14(o,n),n+=2,k.m.c=a.readF2dot14(o,n),n+=2,k.m.d=a.readF2dot14(o,n),n+=2)}while(32&x);if(256&x){var F=a.readUshort(o,n);for(n+=2,i.instr=[],s=0;s<F;s++)i.instr.push(o[n]),n++}}return i},t.GDEF={},t.GDEF.parse=function(r,e,a,o){var n=e;e+=4;var i=t._bin.readUshort(r,e);return{glyphClassDef:i===0?null:t._lctf.readClassDef(r,n+i)}},t.GPOS={},t.GPOS.parse=function(r,e,a,o){return t._lctf.parse(r,e,a,o,t.GPOS.subt)},t.GPOS.subt=function(r,e,a,o){var n=t._bin,i=a,s={};if(s.fmt=n.readUshort(r,a),a+=2,e==1||e==2||e==3||e==7||e==8&&s.fmt<=2){var l=n.readUshort(r,a);a+=2,s.coverage=t._lctf.readCoverage(r,l+i)}if(e==1&&s.fmt==1){var f=n.readUshort(r,a);a+=2,f!=0&&(s.pos=t.GPOS.readValueRecord(r,a,f))}else if(e==2&&s.fmt>=1&&s.fmt<=2){f=n.readUshort(r,a),a+=2;var d=n.readUshort(r,a);a+=2;var p=t._lctf.numOfOnes(f),m=t._lctf.numOfOnes(d);if(s.fmt==1){s.pairsets=[];var g=n.readUshort(r,a);a+=2;for(var G=0;G<g;G++){var U=i+n.readUshort(r,a);a+=2;var T=n.readUshort(r,U);U+=2;for(var x=[],k=0;k<T;k++){var M=n.readUshort(r,U);U+=2,f!=0&&(y=t.GPOS.readValueRecord(r,U,f),U+=2*p),d!=0&&(E=t.GPOS.readValueRecord(r,U,d),U+=2*m),x.push({gid2:M,val1:y,val2:E})}s.pairsets.push(x)}}if(s.fmt==2){var _=n.readUshort(r,a);a+=2;var F=n.readUshort(r,a);a+=2;var L=n.readUshort(r,a);a+=2;var R=n.readUshort(r,a);for(a+=2,s.classDef1=t._lctf.readClassDef(r,i+_),s.classDef2=t._lctf.readClassDef(r,i+F),s.matrix=[],G=0;G<L;G++){var X=[];for(k=0;k<R;k++){var y=null,E=null;f!=0&&(y=t.GPOS.readValueRecord(r,a,f),a+=2*p),d!=0&&(E=t.GPOS.readValueRecord(r,a,d),a+=2*m),X.push({val1:y,val2:E})}s.matrix.push(X)}}}else if(e==4&&s.fmt==1)s.markCoverage=t._lctf.readCoverage(r,n.readUshort(r,a)+i),s.baseCoverage=t._lctf.readCoverage(r,n.readUshort(r,a+2)+i),s.markClassCount=n.readUshort(r,a+4),s.markArray=t.GPOS.readMarkArray(r,n.readUshort(r,a+6)+i),s.baseArray=t.GPOS.readBaseArray(r,n.readUshort(r,a+8)+i,s.markClassCount);else if(e==6&&s.fmt==1)s.mark1Coverage=t._lctf.readCoverage(r,n.readUshort(r,a)+i),s.mark2Coverage=t._lctf.readCoverage(r,n.readUshort(r,a+2)+i),s.markClassCount=n.readUshort(r,a+4),s.mark1Array=t.GPOS.readMarkArray(r,n.readUshort(r,a+6)+i),s.mark2Array=t.GPOS.readBaseArray(r,n.readUshort(r,a+8)+i,s.markClassCount);else{if(e==9&&s.fmt==1){var C=n.readUshort(r,a);a+=2;var z=n.readUint(r,a);if(a+=4,o.ltype==9)o.ltype=C;else if(o.ltype!=C)throw"invalid extension substitution";return t.GPOS.subt(r,o.ltype,i+z)}console.debug("unsupported GPOS table LookupType",e,"format",s.fmt)}return s},t.GPOS.readValueRecord=function(r,e,a){var o=t._bin,n=[];return n.push(1&a?o.readShort(r,e):0),e+=1&a?2:0,n.push(2&a?o.readShort(r,e):0),e+=2&a?2:0,n.push(4&a?o.readShort(r,e):0),e+=4&a?2:0,n.push(8&a?o.readShort(r,e):0),e+=8&a?2:0,n},t.GPOS.readBaseArray=function(r,e,a){var o=t._bin,n=[],i=e,s=o.readUshort(r,e);e+=2;for(var l=0;l<s;l++){for(var f=[],d=0;d<a;d++)f.push(t.GPOS.readAnchorRecord(r,i+o.readUshort(r,e))),e+=2;n.push(f)}return n},t.GPOS.readMarkArray=function(r,e){var a=t._bin,o=[],n=e,i=a.readUshort(r,e);e+=2;for(var s=0;s<i;s++){var l=t.GPOS.readAnchorRecord(r,a.readUshort(r,e+2)+n);l.markClass=a.readUshort(r,e),o.push(l),e+=4}return o},t.GPOS.readAnchorRecord=function(r,e){var a=t._bin,o={};return o.fmt=a.readUshort(r,e),o.x=a.readShort(r,e+2),o.y=a.readShort(r,e+4),o},t.GSUB={},t.GSUB.parse=function(r,e,a,o){return t._lctf.parse(r,e,a,o,t.GSUB.subt)},t.GSUB.subt=function(r,e,a,o){var n=t._bin,i=a,s={};if(s.fmt=n.readUshort(r,a),a+=2,e!=1&&e!=2&&e!=4&&e!=5&&e!=6)return null;if(e==1||e==2||e==4||e==5&&s.fmt<=2||e==6&&s.fmt<=2){var l=n.readUshort(r,a);a+=2,s.coverage=t._lctf.readCoverage(r,i+l)}if(e==1&&s.fmt>=1&&s.fmt<=2){if(s.fmt==1)s.delta=n.readShort(r,a),a+=2;else if(s.fmt==2){var f=n.readUshort(r,a);a+=2,s.newg=n.readUshorts(r,a,f),a+=2*s.newg.length}}else if(e==2&&s.fmt==1){f=n.readUshort(r,a),a+=2,s.seqs=[];for(var d=0;d<f;d++){var p=n.readUshort(r,a)+i;a+=2;var m=n.readUshort(r,p);s.seqs.push(n.readUshorts(r,p+2,m))}}else if(e==4)for(s.vals=[],f=n.readUshort(r,a),a+=2,d=0;d<f;d++){var g=n.readUshort(r,a);a+=2,s.vals.push(t.GSUB.readLigatureSet(r,i+g))}else if(e==5&&s.fmt==2){if(s.fmt==2){var G=n.readUshort(r,a);a+=2,s.cDef=t._lctf.readClassDef(r,i+G),s.scset=[];var U=n.readUshort(r,a);for(a+=2,d=0;d<U;d++){var T=n.readUshort(r,a);a+=2,s.scset.push(T==0?null:t.GSUB.readSubClassSet(r,i+T))}}}else if(e==6&&s.fmt==3){if(s.fmt==3){for(d=0;d<3;d++){f=n.readUshort(r,a),a+=2;for(var x=[],k=0;k<f;k++)x.push(t._lctf.readCoverage(r,i+n.readUshort(r,a+2*k)));a+=2*f,d==0&&(s.backCvg=x),d==1&&(s.inptCvg=x),d==2&&(s.ahedCvg=x)}f=n.readUshort(r,a),a+=2,s.lookupRec=t.GSUB.readSubstLookupRecords(r,a,f)}}else{if(e==7&&s.fmt==1){var M=n.readUshort(r,a);a+=2;var _=n.readUint(r,a);if(a+=4,o.ltype==9)o.ltype=M;else if(o.ltype!=M)throw"invalid extension substitution";return t.GSUB.subt(r,o.ltype,i+_)}console.debug("unsupported GSUB table LookupType",e,"format",s.fmt)}return s},t.GSUB.readSubClassSet=function(r,e){var a=t._bin.readUshort,o=e,n=[],i=a(r,e);e+=2;for(var s=0;s<i;s++){var l=a(r,e);e+=2,n.push(t.GSUB.readSubClassRule(r,o+l))}return n},t.GSUB.readSubClassRule=function(r,e){var a=t._bin.readUshort,o={},n=a(r,e),i=a(r,e+=2);e+=2,o.input=[];for(var s=0;s<n-1;s++)o.input.push(a(r,e)),e+=2;return o.substLookupRecords=t.GSUB.readSubstLookupRecords(r,e,i),o},t.GSUB.readSubstLookupRecords=function(r,e,a){for(var o=t._bin.readUshort,n=[],i=0;i<a;i++)n.push(o(r,e),o(r,e+2)),e+=4;return n},t.GSUB.readChainSubClassSet=function(r,e){var a=t._bin,o=e,n=[],i=a.readUshort(r,e);e+=2;for(var s=0;s<i;s++){var l=a.readUshort(r,e);e+=2,n.push(t.GSUB.readChainSubClassRule(r,o+l))}return n},t.GSUB.readChainSubClassRule=function(r,e){for(var a=t._bin,o={},n=["backtrack","input","lookahead"],i=0;i<n.length;i++){var s=a.readUshort(r,e);e+=2,i==1&&s--,o[n[i]]=a.readUshorts(r,e,s),e+=2*o[n[i]].length}return s=a.readUshort(r,e),e+=2,o.subst=a.readUshorts(r,e,2*s),e+=2*o.subst.length,o},t.GSUB.readLigatureSet=function(r,e){var a=t._bin,o=e,n=[],i=a.readUshort(r,e);e+=2;for(var s=0;s<i;s++){var l=a.readUshort(r,e);e+=2,n.push(t.GSUB.readLigature(r,o+l))}return n},t.GSUB.readLigature=function(r,e){var a=t._bin,o={chain:[]};o.nglyph=a.readUshort(r,e),e+=2;var n=a.readUshort(r,e);e+=2;for(var i=0;i<n-1;i++)o.chain.push(a.readUshort(r,e)),e+=2;return o},t.head={},t.head.parse=function(r,e,a){var o=t._bin,n={};return o.readFixed(r,e),e+=4,n.fontRevision=o.readFixed(r,e),e+=4,o.readUint(r,e),e+=4,o.readUint(r,e),e+=4,n.flags=o.readUshort(r,e),e+=2,n.unitsPerEm=o.readUshort(r,e),e+=2,n.created=o.readUint64(r,e),e+=8,n.modified=o.readUint64(r,e),e+=8,n.xMin=o.readShort(r,e),e+=2,n.yMin=o.readShort(r,e),e+=2,n.xMax=o.readShort(r,e),e+=2,n.yMax=o.readShort(r,e),e+=2,n.macStyle=o.readUshort(r,e),e+=2,n.lowestRecPPEM=o.readUshort(r,e),e+=2,n.fontDirectionHint=o.readShort(r,e),e+=2,n.indexToLocFormat=o.readShort(r,e),e+=2,n.glyphDataFormat=o.readShort(r,e),e+=2,n},t.hhea={},t.hhea.parse=function(r,e,a){var o=t._bin,n={};return o.readFixed(r,e),e+=4,n.ascender=o.readShort(r,e),e+=2,n.descender=o.readShort(r,e),e+=2,n.lineGap=o.readShort(r,e),e+=2,n.advanceWidthMax=o.readUshort(r,e),e+=2,n.minLeftSideBearing=o.readShort(r,e),e+=2,n.minRightSideBearing=o.readShort(r,e),e+=2,n.xMaxExtent=o.readShort(r,e),e+=2,n.caretSlopeRise=o.readShort(r,e),e+=2,n.caretSlopeRun=o.readShort(r,e),e+=2,n.caretOffset=o.readShort(r,e),e+=2,e+=8,n.metricDataFormat=o.readShort(r,e),e+=2,n.numberOfHMetrics=o.readUshort(r,e),e+=2,n},t.hmtx={},t.hmtx.parse=function(r,e,a,o){for(var n=t._bin,i={aWidth:[],lsBearing:[]},s=0,l=0,f=0;f<o.maxp.numGlyphs;f++)f<o.hhea.numberOfHMetrics&&(s=n.readUshort(r,e),e+=2,l=n.readShort(r,e),e+=2),i.aWidth.push(s),i.lsBearing.push(l);return i},t.kern={},t.kern.parse=function(r,e,a,o){var n=t._bin,i=n.readUshort(r,e);if(e+=2,i==1)return t.kern.parseV1(r,e-2,a,o);var s=n.readUshort(r,e);e+=2;for(var l={glyph1:[],rval:[]},f=0;f<s;f++){e+=2,a=n.readUshort(r,e),e+=2;var d=n.readUshort(r,e);e+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;e=t.kern.readFormat0(r,e,l)}return l},t.kern.parseV1=function(r,e,a,o){var n=t._bin;n.readFixed(r,e),e+=4;var i=n.readUint(r,e);e+=4;for(var s={glyph1:[],rval:[]},l=0;l<i;l++){n.readUint(r,e),e+=4;var f=n.readUshort(r,e);e+=2,n.readUshort(r,e),e+=2;var d=f>>>8;if((d&=15)!=0)throw"unknown kern table format: "+d;e=t.kern.readFormat0(r,e,s)}return s},t.kern.readFormat0=function(r,e,a){var o=t._bin,n=-1,i=o.readUshort(r,e);e+=2,o.readUshort(r,e),e+=2,o.readUshort(r,e),e+=2,o.readUshort(r,e),e+=2;for(var s=0;s<i;s++){var l=o.readUshort(r,e);e+=2;var f=o.readUshort(r,e);e+=2;var d=o.readShort(r,e);e+=2,l!=n&&(a.glyph1.push(l),a.rval.push({glyph2:[],vals:[]}));var p=a.rval[a.rval.length-1];p.glyph2.push(f),p.vals.push(d),n=l}return e},t.loca={},t.loca.parse=function(r,e,a,o){var n=t._bin,i=[],s=o.head.indexToLocFormat,l=o.maxp.numGlyphs+1;if(s==0)for(var f=0;f<l;f++)i.push(n.readUshort(r,e+(f<<1))<<1);if(s==1)for(f=0;f<l;f++)i.push(n.readUint(r,e+(f<<2)));return i},t.maxp={},t.maxp.parse=function(r,e,a){var o=t._bin,n={},i=o.readUint(r,e);return e+=4,n.numGlyphs=o.readUshort(r,e),e+=2,i==65536&&(n.maxPoints=o.readUshort(r,e),e+=2,n.maxContours=o.readUshort(r,e),e+=2,n.maxCompositePoints=o.readUshort(r,e),e+=2,n.maxCompositeContours=o.readUshort(r,e),e+=2,n.maxZones=o.readUshort(r,e),e+=2,n.maxTwilightPoints=o.readUshort(r,e),e+=2,n.maxStorage=o.readUshort(r,e),e+=2,n.maxFunctionDefs=o.readUshort(r,e),e+=2,n.maxInstructionDefs=o.readUshort(r,e),e+=2,n.maxStackElements=o.readUshort(r,e),e+=2,n.maxSizeOfInstructions=o.readUshort(r,e),e+=2,n.maxComponentElements=o.readUshort(r,e),e+=2,n.maxComponentDepth=o.readUshort(r,e),e+=2),n},t.name={},t.name.parse=function(r,e,a){var o=t._bin,n={};o.readUshort(r,e),e+=2;var i=o.readUshort(r,e);e+=2,o.readUshort(r,e);for(var s,l=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=e+=2,d=0;d<i;d++){var p=o.readUshort(r,e);e+=2;var m=o.readUshort(r,e);e+=2;var g=o.readUshort(r,e);e+=2;var G=o.readUshort(r,e);e+=2;var U=o.readUshort(r,e);e+=2;var T=o.readUshort(r,e);e+=2;var x,k=l[G],M=f+12*i+T;if(p==0)x=o.readUnicode(r,M,U/2);else if(p==3&&m==0)x=o.readUnicode(r,M,U/2);else if(m==0)x=o.readASCII(r,M,U);else if(m==1)x=o.readUnicode(r,M,U/2);else if(m==3)x=o.readUnicode(r,M,U/2);else{if(p!=1)throw"unknown encoding "+m+", platformID: "+p;x=o.readASCII(r,M,U),console.debug("reading unknown MAC encoding "+m+" as ASCII")}var _="p"+p+","+g.toString(16);n[_]==null&&(n[_]={}),n[_][k!==void 0?k:G]=x,n[_]._lang=g}for(var F in n)if(n[F].postScriptName!=null&&n[F]._lang==1033)return n[F];for(var F in n)if(n[F].postScriptName!=null&&n[F]._lang==0)return n[F];for(var F in n)if(n[F].postScriptName!=null&&n[F]._lang==3084)return n[F];for(var F in n)if(n[F].postScriptName!=null)return n[F];for(var F in n){s=F;break}return console.debug("returning name table with languageID "+n[s]._lang),n[s]},t["OS/2"]={},t["OS/2"].parse=function(r,e,a){var o=t._bin.readUshort(r,e);e+=2;var n={};if(o==0)t["OS/2"].version0(r,e,n);else if(o==1)t["OS/2"].version1(r,e,n);else if(o==2||o==3||o==4)t["OS/2"].version2(r,e,n);else{if(o!=5)throw"unknown OS/2 table version: "+o;t["OS/2"].version5(r,e,n)}return n},t["OS/2"].version0=function(r,e,a){var o=t._bin;return a.xAvgCharWidth=o.readShort(r,e),e+=2,a.usWeightClass=o.readUshort(r,e),e+=2,a.usWidthClass=o.readUshort(r,e),e+=2,a.fsType=o.readUshort(r,e),e+=2,a.ySubscriptXSize=o.readShort(r,e),e+=2,a.ySubscriptYSize=o.readShort(r,e),e+=2,a.ySubscriptXOffset=o.readShort(r,e),e+=2,a.ySubscriptYOffset=o.readShort(r,e),e+=2,a.ySuperscriptXSize=o.readShort(r,e),e+=2,a.ySuperscriptYSize=o.readShort(r,e),e+=2,a.ySuperscriptXOffset=o.readShort(r,e),e+=2,a.ySuperscriptYOffset=o.readShort(r,e),e+=2,a.yStrikeoutSize=o.readShort(r,e),e+=2,a.yStrikeoutPosition=o.readShort(r,e),e+=2,a.sFamilyClass=o.readShort(r,e),e+=2,a.panose=o.readBytes(r,e,10),e+=10,a.ulUnicodeRange1=o.readUint(r,e),e+=4,a.ulUnicodeRange2=o.readUint(r,e),e+=4,a.ulUnicodeRange3=o.readUint(r,e),e+=4,a.ulUnicodeRange4=o.readUint(r,e),e+=4,a.achVendID=[o.readInt8(r,e),o.readInt8(r,e+1),o.readInt8(r,e+2),o.readInt8(r,e+3)],e+=4,a.fsSelection=o.readUshort(r,e),e+=2,a.usFirstCharIndex=o.readUshort(r,e),e+=2,a.usLastCharIndex=o.readUshort(r,e),e+=2,a.sTypoAscender=o.readShort(r,e),e+=2,a.sTypoDescender=o.readShort(r,e),e+=2,a.sTypoLineGap=o.readShort(r,e),e+=2,a.usWinAscent=o.readUshort(r,e),e+=2,a.usWinDescent=o.readUshort(r,e),e+=2},t["OS/2"].version1=function(r,e,a){var o=t._bin;return e=t["OS/2"].version0(r,e,a),a.ulCodePageRange1=o.readUint(r,e),e+=4,a.ulCodePageRange2=o.readUint(r,e),e+=4},t["OS/2"].version2=function(r,e,a){var o=t._bin;return e=t["OS/2"].version1(r,e,a),a.sxHeight=o.readShort(r,e),e+=2,a.sCapHeight=o.readShort(r,e),e+=2,a.usDefault=o.readUshort(r,e),e+=2,a.usBreak=o.readUshort(r,e),e+=2,a.usMaxContext=o.readUshort(r,e),e+=2},t["OS/2"].version5=function(r,e,a){var o=t._bin;return e=t["OS/2"].version2(r,e,a),a.usLowerOpticalPointSize=o.readUshort(r,e),e+=2,a.usUpperOpticalPointSize=o.readUshort(r,e),e+=2},t.post={},t.post.parse=function(r,e,a){var o=t._bin,n={};return n.version=o.readFixed(r,e),e+=4,n.italicAngle=o.readFixed(r,e),e+=4,n.underlinePosition=o.readShort(r,e),e+=2,n.underlineThickness=o.readShort(r,e),e+=2,n},t==null&&(t={}),t.U==null&&(t.U={}),t.U.codeToGlyph=function(r,e){var a=r.cmap,o=-1;if(a.p0e4!=null?o=a.p0e4:a.p3e1!=null?o=a.p3e1:a.p1e0!=null?o=a.p1e0:a.p0e3!=null&&(o=a.p0e3),o==-1)throw"no familiar platform and encoding!";var n=a.tables[o];if(n.format==0)return e>=n.map.length?0:n.map[e];if(n.format==4){for(var i=-1,s=0;s<n.endCount.length;s++)if(e<=n.endCount[s]){i=s;break}return i==-1||n.startCount[i]>e?0:65535&(n.idRangeOffset[i]!=0?n.glyphIdArray[e-n.startCount[i]+(n.idRangeOffset[i]>>1)-(n.idRangeOffset.length-i)]:e+n.idDelta[i])}if(n.format==12){if(e>n.groups[n.groups.length-1][1])return 0;for(s=0;s<n.groups.length;s++){var l=n.groups[s];if(l[0]<=e&&e<=l[1])return l[2]+(e-l[0])}return 0}throw"unknown cmap table format "+n.format},t.U.glyphToPath=function(r,e){var a={cmds:[],crds:[]};if(r.SVG&&r.SVG.entries[e]){var o=r.SVG.entries[e];return o==null?a:(typeof o=="string"&&(o=t.SVG.toPath(o),r.SVG.entries[e]=o),o)}if(r.CFF){var n={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:r.CFF.Private?r.CFF.Private.defaultWidthX:0,open:!1},i=r.CFF,s=r.CFF.Private;if(i.ROS){for(var l=0;i.FDSelect[l+2]<=e;)l+=2;s=i.FDArray[i.FDSelect[l+1]].Private}t.U._drawCFF(r.CFF.CharStrings[e],n,i,s,a)}else r.glyf&&t.U._drawGlyf(e,r,a);return a},t.U._drawGlyf=function(r,e,a){var o=e.glyf[r];o==null&&(o=e.glyf[r]=t.glyf._parseGlyf(e,r)),o!=null&&(o.noc>-1?t.U._simpleGlyph(o,a):t.U._compoGlyph(o,e,a))},t.U._simpleGlyph=function(r,e){for(var a=0;a<r.noc;a++){for(var o=a==0?0:r.endPts[a-1]+1,n=r.endPts[a],i=o;i<=n;i++){var s=i==o?n:i-1,l=i==n?o:i+1,f=1&r.flags[i],d=1&r.flags[s],p=1&r.flags[l],m=r.xs[i],g=r.ys[i];if(i==o)if(f){if(!d){t.U.P.moveTo(e,m,g);continue}t.U.P.moveTo(e,r.xs[s],r.ys[s])}else d?t.U.P.moveTo(e,r.xs[s],r.ys[s]):t.U.P.moveTo(e,(r.xs[s]+m)/2,(r.ys[s]+g)/2);f?d&&t.U.P.lineTo(e,m,g):p?t.U.P.qcurveTo(e,m,g,r.xs[l],r.ys[l]):t.U.P.qcurveTo(e,m,g,(m+r.xs[l])/2,(g+r.ys[l])/2)}t.U.P.closePath(e)}},t.U._compoGlyph=function(r,e,a){for(var o=0;o<r.parts.length;o++){var n={cmds:[],crds:[]},i=r.parts[o];t.U._drawGlyf(i.glyphIndex,e,n);for(var s=i.m,l=0;l<n.crds.length;l+=2){var f=n.crds[l],d=n.crds[l+1];a.crds.push(f*s.a+d*s.b+s.tx),a.crds.push(f*s.c+d*s.d+s.ty)}for(l=0;l<n.cmds.length;l++)a.cmds.push(n.cmds[l])}},t.U._getGlyphClass=function(r,e){var a=t._lctf.getInterval(e,r);return a==-1?0:e[a+2]},t.U._applySubs=function(r,e,a,o){for(var n=r.length-e-1,i=0;i<a.tabs.length;i++)if(a.tabs[i]!=null){var s,l=a.tabs[i];if(!l.coverage||(s=t._lctf.coverageIndex(l.coverage,r[e]))!=-1){if(a.ltype==1)r[e],l.fmt==1?r[e]=r[e]+l.delta:r[e]=l.newg[s];else if(a.ltype==4)for(var f=l.vals[s],d=0;d<f.length;d++){var p=f[d],m=p.chain.length;if(!(m>n)){for(var g=!0,G=0,U=0;U<m;U++){for(;r[e+G+(1+U)]==-1;)G++;p.chain[U]!=r[e+G+(1+U)]&&(g=!1)}if(g){for(r[e]=p.nglyph,U=0;U<m+G;U++)r[e+U+1]=-1;break}}}else if(a.ltype==5&&l.fmt==2)for(var T=t._lctf.getInterval(l.cDef,r[e]),x=l.cDef[T+2],k=l.scset[x],M=0;M<k.length;M++){var _=k[M],F=_.input;if(!(F.length>n)){for(g=!0,U=0;U<F.length;U++){var L=t._lctf.getInterval(l.cDef,r[e+1+U]);if(T==-1&&l.cDef[L+2]!=F[U]){g=!1;break}}if(g){var R=_.substLookupRecords;for(d=0;d<R.length;d+=2)R[d],R[d+1]}}}else if(a.ltype==6&&l.fmt==3){if(!t.U._glsCovered(r,l.backCvg,e-l.backCvg.length)||!t.U._glsCovered(r,l.inptCvg,e)||!t.U._glsCovered(r,l.ahedCvg,e+l.inptCvg.length))continue;var X=l.lookupRec;for(M=0;M<X.length;M+=2){T=X[M];var y=o[X[M+1]];t.U._applySubs(r,e+T,y,o)}}}}},t.U._glsCovered=function(r,e,a){for(var o=0;o<e.length;o++)if(t._lctf.coverageIndex(e[o],r[a+o])==-1)return!1;return!0},t.U.glyphsToPath=function(r,e,a){for(var o={cmds:[],crds:[]},n=0,i=0;i<e.length;i++){var s=e[i];if(s!=-1){for(var l=i<e.length-1&&e[i+1]!=-1?e[i+1]:0,f=t.U.glyphToPath(r,s),d=0;d<f.crds.length;d+=2)o.crds.push(f.crds[d]+n),o.crds.push(f.crds[d+1]);for(a&&o.cmds.push(a),d=0;d<f.cmds.length;d++)o.cmds.push(f.cmds[d]);a&&o.cmds.push("X"),n+=r.hmtx.aWidth[s],i<e.length-1&&(n+=t.U.getPairAdjustment(r,s,l))}}return o},t.U.P={},t.U.P.moveTo=function(r,e,a){r.cmds.push("M"),r.crds.push(e,a)},t.U.P.lineTo=function(r,e,a){r.cmds.push("L"),r.crds.push(e,a)},t.U.P.curveTo=function(r,e,a,o,n,i,s){r.cmds.push("C"),r.crds.push(e,a,o,n,i,s)},t.U.P.qcurveTo=function(r,e,a,o,n){r.cmds.push("Q"),r.crds.push(e,a,o,n)},t.U.P.closePath=function(r){r.cmds.push("Z")},t.U._drawCFF=function(r,e,a,o,n){for(var i=e.stack,s=e.nStems,l=e.haveWidth,f=e.width,d=e.open,p=0,m=e.x,g=e.y,G=0,U=0,T=0,x=0,k=0,M=0,_=0,F=0,L=0,R=0,X={val:0,size:0};p<r.length;){t.CFF.getCharString(r,p,X);var y=X.val;if(p+=X.size,y=="o1"||y=="o18")i.length%2!=0&&!l&&(f=i.shift()+o.nominalWidthX),s+=i.length>>1,i.length=0,l=!0;else if(y=="o3"||y=="o23")i.length%2!=0&&!l&&(f=i.shift()+o.nominalWidthX),s+=i.length>>1,i.length=0,l=!0;else if(y=="o4")i.length>1&&!l&&(f=i.shift()+o.nominalWidthX,l=!0),d&&t.U.P.closePath(n),g+=i.pop(),t.U.P.moveTo(n,m,g),d=!0;else if(y=="o5")for(;i.length>0;)m+=i.shift(),g+=i.shift(),t.U.P.lineTo(n,m,g);else if(y=="o6"||y=="o7")for(var E=i.length,C=y=="o6",z=0;z<E;z++){var j=i.shift();C?m+=j:g+=j,C=!C,t.U.P.lineTo(n,m,g)}else if(y=="o8"||y=="o24"){E=i.length;for(var K=0;K+6<=E;)G=m+i.shift(),U=g+i.shift(),T=G+i.shift(),x=U+i.shift(),m=T+i.shift(),g=x+i.shift(),t.U.P.curveTo(n,G,U,T,x,m,g),K+=6;y=="o24"&&(m+=i.shift(),g+=i.shift(),t.U.P.lineTo(n,m,g))}else{if(y=="o11")break;if(y=="o1234"||y=="o1235"||y=="o1236"||y=="o1237")y=="o1234"&&(U=g,T=(G=m+i.shift())+i.shift(),R=x=U+i.shift(),M=x,F=g,m=(_=(k=(L=T+i.shift())+i.shift())+i.shift())+i.shift(),t.U.P.curveTo(n,G,U,T,x,L,R),t.U.P.curveTo(n,k,M,_,F,m,g)),y=="o1235"&&(G=m+i.shift(),U=g+i.shift(),T=G+i.shift(),x=U+i.shift(),L=T+i.shift(),R=x+i.shift(),k=L+i.shift(),M=R+i.shift(),_=k+i.shift(),F=M+i.shift(),m=_+i.shift(),g=F+i.shift(),i.shift(),t.U.P.curveTo(n,G,U,T,x,L,R),t.U.P.curveTo(n,k,M,_,F,m,g)),y=="o1236"&&(G=m+i.shift(),U=g+i.shift(),T=G+i.shift(),R=x=U+i.shift(),M=x,_=(k=(L=T+i.shift())+i.shift())+i.shift(),F=M+i.shift(),m=_+i.shift(),t.U.P.curveTo(n,G,U,T,x,L,R),t.U.P.curveTo(n,k,M,_,F,m,g)),y=="o1237"&&(G=m+i.shift(),U=g+i.shift(),T=G+i.shift(),x=U+i.shift(),L=T+i.shift(),R=x+i.shift(),k=L+i.shift(),M=R+i.shift(),_=k+i.shift(),F=M+i.shift(),Math.abs(_-m)>Math.abs(F-g)?m=_+i.shift():g=F+i.shift(),t.U.P.curveTo(n,G,U,T,x,L,R),t.U.P.curveTo(n,k,M,_,F,m,g));else if(y=="o14"){if(i.length>0&&!l&&(f=i.shift()+a.nominalWidthX,l=!0),i.length==4){var $=i.shift(),P=i.shift(),w=i.shift(),v=i.shift(),b=t.CFF.glyphBySE(a,w),S=t.CFF.glyphBySE(a,v);t.U._drawCFF(a.CharStrings[b],e,a,o,n),e.x=$,e.y=P,t.U._drawCFF(a.CharStrings[S],e,a,o,n)}d&&(t.U.P.closePath(n),d=!1)}else if(y=="o19"||y=="o20")i.length%2!=0&&!l&&(f=i.shift()+o.nominalWidthX),s+=i.length>>1,i.length=0,l=!0,p+=s+7>>3;else if(y=="o21")i.length>2&&!l&&(f=i.shift()+o.nominalWidthX,l=!0),g+=i.pop(),m+=i.pop(),d&&t.U.P.closePath(n),t.U.P.moveTo(n,m,g),d=!0;else if(y=="o22")i.length>1&&!l&&(f=i.shift()+o.nominalWidthX,l=!0),m+=i.pop(),d&&t.U.P.closePath(n),t.U.P.moveTo(n,m,g),d=!0;else if(y=="o25"){for(;i.length>6;)m+=i.shift(),g+=i.shift(),t.U.P.lineTo(n,m,g);G=m+i.shift(),U=g+i.shift(),T=G+i.shift(),x=U+i.shift(),m=T+i.shift(),g=x+i.shift(),t.U.P.curveTo(n,G,U,T,x,m,g)}else if(y=="o26")for(i.length%2&&(m+=i.shift());i.length>0;)G=m,U=g+i.shift(),m=T=G+i.shift(),g=(x=U+i.shift())+i.shift(),t.U.P.curveTo(n,G,U,T,x,m,g);else if(y=="o27")for(i.length%2&&(g+=i.shift());i.length>0;)U=g,T=(G=m+i.shift())+i.shift(),x=U+i.shift(),m=T+i.shift(),g=x,t.U.P.curveTo(n,G,U,T,x,m,g);else if(y=="o10"||y=="o29"){var D=y=="o10"?o:a;if(i.length==0)console.debug("error: empty stack");else{var A=i.pop(),N=D.Subrs[A+D.Bias];e.x=m,e.y=g,e.nStems=s,e.haveWidth=l,e.width=f,e.open=d,t.U._drawCFF(N,e,a,o,n),m=e.x,g=e.y,s=e.nStems,l=e.haveWidth,f=e.width,d=e.open}}else if(y=="o30"||y=="o31"){var O=i.length,I=(K=0,y=="o31");for(K+=O-(E=-3&O);K<E;)I?(U=g,T=(G=m+i.shift())+i.shift(),g=(x=U+i.shift())+i.shift(),E-K==5?(m=T+i.shift(),K++):m=T,I=!1):(G=m,U=g+i.shift(),T=G+i.shift(),x=U+i.shift(),m=T+i.shift(),E-K==5?(g=x+i.shift(),K++):g=x,I=!0),t.U.P.curveTo(n,G,U,T,x,m,g),K+=4}else{if((y+"").charAt(0)=="o")throw console.debug("Unknown operation: "+y,r),y;i.push(y)}}}e.x=m,e.y=g,e.nStems=s,e.haveWidth=l,e.width=f,e.open=d};var h=t,c={Typr:h};return u.Typr=h,u.default=c,Object.defineProperty(u,"__esModule",{value:!0}),u}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Ta(){return function(u){var t=Uint8Array,h=Uint16Array,c=Uint32Array,r=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),e=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(y,E){for(var C=new h(31),z=0;z<31;++z)C[z]=E+=1<<y[z-1];var j=new c(C[30]);for(z=1;z<30;++z)for(var K=C[z];K<C[z+1];++K)j[K]=K-C[z]<<5|z;return[C,j]},n=o(r,2),i=n[0],s=n[1];i[28]=258,s[258]=28;for(var l=o(e,0)[0],f=new h(32768),d=0;d<32768;++d){var p=(43690&d)>>>1|(21845&d)<<1;p=(61680&(p=(52428&p)>>>2|(13107&p)<<2))>>>4|(3855&p)<<4,f[d]=((65280&p)>>>8|(255&p)<<8)>>>1}var m=function(y,E,C){for(var z=y.length,j=0,K=new h(E);j<z;++j)++K[y[j]-1];var $,P=new h(E);for(j=0;j<E;++j)P[j]=P[j-1]+K[j-1]<<1;{$=new h(1<<E);var w=15-E;for(j=0;j<z;++j)if(y[j])for(var v=j<<4|y[j],b=E-y[j],S=P[y[j]-1]++<<b,D=S|(1<<b)-1;S<=D;++S)$[f[S]>>>w]=v}return $},g=new t(288);for(d=0;d<144;++d)g[d]=8;for(d=144;d<256;++d)g[d]=9;for(d=256;d<280;++d)g[d]=7;for(d=280;d<288;++d)g[d]=8;var G=new t(32);for(d=0;d<32;++d)G[d]=5;var U=m(g,9),T=m(G,5),x=function(y){for(var E=y[0],C=1;C<y.length;++C)y[C]>E&&(E=y[C]);return E},k=function(y,E,C){var z=E/8|0;return(y[z]|y[z+1]<<8)>>(7&E)&C},M=function(y,E){var C=E/8|0;return(y[C]|y[C+1]<<8|y[C+2]<<16)>>(7&E)},_=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],F=function(y,E,C){var z=new Error(E||_[y]);if(z.code=y,Error.captureStackTrace&&Error.captureStackTrace(z,F),!C)throw z;return z},L=function(y,E,C){var z=y.length;if(!z||C&&!C.l&&z<5)return E||new t(0);var j=!E||C,K=!C||C.i;C||(C={}),E||(E=new t(3*z));var $,P=function(le){var De=E.length;if(le>De){var Te=new t(Math.max(2*De,le));Te.set(E),E=Te}},w=C.f||0,v=C.p||0,b=C.b||0,S=C.l,D=C.d,A=C.m,N=C.n,O=8*z;do{if(!S){C.f=w=k(y,v,1);var I=k(y,v+1,3);if(v+=3,!I){var Y=y[(q=(($=v)/8|0)+(7&$&&1)+4)-4]|y[q-3]<<8,ee=q+Y;if(ee>z){K&&F(0);break}j&&P(b+Y),E.set(y.subarray(q,ee),b),C.b=b+=Y,C.p=v=8*ee;continue}if(I==1)S=U,D=T,A=9,N=5;else if(I==2){var H=k(y,v,31)+257,W=k(y,v+10,15)+4,ge=H+k(y,v+5,31)+1;v+=14;for(var ue=new t(ge),Z=new t(19),re=0;re<W;++re)Z[a[re]]=k(y,v+3*re,7);v+=3*W;var se=x(Z),V=(1<<se)-1,te=m(Z,se);for(re=0;re<ge;){var q,B=te[k(y,v,V)];if(v+=15&B,(q=B>>>4)<16)ue[re++]=q;else{var he=0,Q=0;for(q==16?(Q=3+k(y,v,3),v+=2,he=ue[re-1]):q==17?(Q=3+k(y,v,7),v+=3):q==18&&(Q=11+k(y,v,127),v+=7);Q--;)ue[re++]=he}}var ae=ue.subarray(0,H),J=ue.subarray(H);A=x(ae),N=x(J),S=m(ae,A),D=m(J,N)}else F(1);if(v>O){K&&F(0);break}}j&&P(b+131072);for(var xe=(1<<A)-1,ne=(1<<N)-1,oe=v;;oe=v){var fe=(he=S[M(y,v)&xe])>>>4;if((v+=15&he)>O){K&&F(0);break}if(he||F(2),fe<256)E[b++]=fe;else{if(fe==256){oe=v,S=null;break}var ve=fe-254;if(fe>264){var Se=r[re=fe-257];ve=k(y,v,(1<<Se)-1)+i[re],v+=Se}var Ae=D[M(y,v)&ne],me=Ae>>>4;if(Ae||F(3),v+=15&Ae,J=l[me],me>3&&(Se=e[me],J+=M(y,v)&(1<<Se)-1,v+=Se),v>O){K&&F(0);break}j&&P(b+131072);for(var ye=b+ve;b<ye;b+=4)E[b]=E[b-J],E[b+1]=E[b+1-J],E[b+2]=E[b+2-J],E[b+3]=E[b+3-J];b=ye}}C.l=S,C.p=oe,C.b=b,S&&(w=1,C.m=A,C.d=D,C.n=N)}while(!w);return b==E.length?E:function(le,De,Te){(Te==null||Te>le.length)&&(Te=le.length);var Be=new(le instanceof h?h:le instanceof c?c:t)(Te-De);return Be.set(le.subarray(De,Te)),Be}(E,0,b)},R=new t(0),X=typeof TextDecoder<"u"&&new TextDecoder;try{X.decode(R,{stream:!0})}catch{}return u.convert_streams=function(y){var E=new DataView(y),C=0;function z(){var H=E.getUint16(C);return C+=2,H}function j(){var H=E.getUint32(C);return C+=4,H}function K(H){Y.setUint16(ee,H),ee+=2}function $(H){Y.setUint32(ee,H),ee+=4}for(var P={signature:j(),flavor:j(),length:j(),numTables:z(),reserved:z(),totalSfntSize:j(),majorVersion:z(),minorVersion:z(),metaOffset:j(),metaLength:j(),metaOrigLength:j(),privOffset:j(),privLength:j()},w=0;Math.pow(2,w)<=P.numTables;)w++;w--;for(var v=16*Math.pow(2,w),b=16*P.numTables-v,S=12,D=[],A=0;A<P.numTables;A++)D.push({tag:j(),offset:j(),compLength:j(),origLength:j(),origChecksum:j()}),S+=16;var N,O=new Uint8Array(12+16*D.length+D.reduce(function(H,W){return H+W.origLength+4},0)),I=O.buffer,Y=new DataView(I),ee=0;return $(P.flavor),K(P.numTables),K(v),K(w),K(b),D.forEach(function(H){$(H.tag),$(H.origChecksum),$(S),$(H.origLength),H.outOffset=S,(S+=H.origLength)%4!=0&&(S+=4-S%4)}),D.forEach(function(H){var W,ge=y.slice(H.offset,H.offset+H.compLength);if(H.compLength!=H.origLength){var ue=new Uint8Array(H.origLength);W=new Uint8Array(ge,2),L(W,ue)}else ue=new Uint8Array(ge);O.set(ue,H.outOffset);var Z=0;(S=H.outOffset+H.origLength)%4!=0&&(Z=4-S%4),O.set(new Uint8Array(Z).buffer,H.outOffset+H.origLength),N=S+Z}),I.slice(0,N)},Object.defineProperty(u,"__esModule",{value:!0}),u}({}).convert_streams}function Fa(u,t){const h={M:2,L:2,Q:4,C:6,Z:0},c={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},r=1,e=2,a=4,o=8,n=16,i=32;let s;function l(_){if(!s){const F={R:e,L:r,D:a,C:n,U:i,T:o};s=new Map;for(let L in c){let R=0;c[L].split(",").forEach(X=>{let[y,E]=X.split("+");y=parseInt(y,36),E=E?parseInt(E,36):0,s.set(R+=y,F[L]);for(let C=E;C--;)s.set(++R,F[L])})}}return s.get(_)||i}const f=1,d=2,p=3,m=4,g=[null,"isol","init","fina","medi"];function G(_){const F=new Uint8Array(_.length);let L=i,R=f,X=-1;for(let y=0;y<_.length;y++){const E=_.codePointAt(y);let C=l(E)|0,z=f;C&o||(L&(r|a|n)?C&(e|a|n)?(z=p,(R===f||R===p)&&F[X]++):C&(r|i)&&(R===d||R===m)&&F[X]--:L&(e|i)&&(R===d||R===m)&&F[X]--,R=F[y]=z,L=C,X=y,E>65535&&y++)}return F}function U(_,F){const L=[];for(let X=0;X<F.length;X++){const y=F.codePointAt(X);y>65535&&X++,L.push(u.U.codeToGlyph(_,y))}const R=_.GSUB;if(R){const{lookupList:X,featureList:y}=R;let E;const C=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,z=[];y.forEach(j=>{if(C.test(j.tag))for(let K=0;K<j.tab.length;K++){if(z[j.tab[K]])continue;z[j.tab[K]]=!0;const $=X[j.tab[K]],P=/^(isol|init|fina|medi)$/.test(j.tag);P&&!E&&(E=G(F));for(let w=0;w<L.length;w++)(!E||!P||g[E[w]]===j.tag)&&u.U._applySubs(L,w,$,X)}})}return L}function T(_,F){const L=new Int16Array(F.length*3);let R=0;for(;R<F.length;R++){const C=F[R];if(C===-1)continue;L[R*3+2]=_.hmtx.aWidth[C];const z=_.GPOS;if(z){const j=z.lookupList;for(let K=0;K<j.length;K++){const $=j[K];for(let P=0;P<$.tabs.length;P++){const w=$.tabs[P];if($.ltype===1){if(u._lctf.coverageIndex(w.coverage,C)!==-1&&w.pos){E(w.pos,R);break}}else if($.ltype===2){let v=null,b=X();if(b!==-1){const S=u._lctf.coverageIndex(w.coverage,F[b]);if(S!==-1){if(w.fmt===1){const D=w.pairsets[S];for(let A=0;A<D.length;A++)D[A].gid2===C&&(v=D[A])}else if(w.fmt===2){const D=u.U._getGlyphClass(F[b],w.classDef1),A=u.U._getGlyphClass(C,w.classDef2);v=w.matrix[D][A]}if(v){v.val1&&E(v.val1,b),v.val2&&E(v.val2,R);break}}}}else if($.ltype===4){const v=u._lctf.coverageIndex(w.markCoverage,C);if(v!==-1){const b=X(y),S=b===-1?-1:u._lctf.coverageIndex(w.baseCoverage,F[b]);if(S!==-1){const D=w.markArray[v],A=w.baseArray[S][D.markClass];L[R*3]=A.x-D.x+L[b*3]-L[b*3+2],L[R*3+1]=A.y-D.y+L[b*3+1];break}}}else if($.ltype===6){const v=u._lctf.coverageIndex(w.mark1Coverage,C);if(v!==-1){const b=X();if(b!==-1){const S=F[b];if(x(_,S)===3){const D=u._lctf.coverageIndex(w.mark2Coverage,S);if(D!==-1){const A=w.mark1Array[v],N=w.mark2Array[D][A.markClass];L[R*3]=N.x-A.x+L[b*3]-L[b*3+2],L[R*3+1]=N.y-A.y+L[b*3+1];break}}}}}}}}else if(_.kern&&!_.cff){const j=X();if(j!==-1){const K=_.kern.glyph1.indexOf(F[j]);if(K!==-1){const $=_.kern.rval[K].glyph2.indexOf(C);$!==-1&&(L[j*3+2]+=_.kern.rval[K].vals[$])}}}}return L;function X(C){for(let z=R-1;z>=0;z--)if(F[z]!==-1&&(!C||C(F[z])))return z;return-1}function y(C){return x(_,C)===1}function E(C,z){for(let j=0;j<3;j++)L[z*3+j]+=C[j]||0}}function x(_,F){const L=_.GDEF&&_.GDEF.glyphClassDef;return L?u.U._getGlyphClass(F,L):0}function k(..._){for(let F=0;F<_.length;F++)if(typeof _[F]=="number")return _[F]}function M(_){const F=Object.create(null),L=_["OS/2"],R=_.hhea,X=_.head.unitsPerEm,y=k(L&&L.sTypoAscender,R&&R.ascender,X),E={unitsPerEm:X,ascender:y,descender:k(L&&L.sTypoDescender,R&&R.descender,0),capHeight:k(L&&L.sCapHeight,y),xHeight:k(L&&L.sxHeight,y),lineGap:k(L&&L.sTypoLineGap,R&&R.lineGap),supportsCodePoint(C){return u.U.codeToGlyph(_,C)>0},forEachGlyph(C,z,j,K){let $=0;const P=1/E.unitsPerEm*z,w=U(_,C);let v=0;const b=T(_,w);return w.forEach((S,D)=>{if(S!==-1){let A=F[S];if(!A){const{cmds:N,crds:O}=u.U.glyphToPath(_,S);let I="",Y=0;for(let ue=0,Z=N.length;ue<Z;ue++){const re=h[N[ue]];I+=N[ue];for(let se=1;se<=re;se++)I+=(se>1?",":"")+O[Y++]}let ee,H,W,ge;if(O.length){ee=H=1/0,W=ge=-1/0;for(let ue=0,Z=O.length;ue<Z;ue+=2){let re=O[ue],se=O[ue+1];re<ee&&(ee=re),se<H&&(H=se),re>W&&(W=re),se>ge&&(ge=se)}}else ee=W=H=ge=0;A=F[S]={index:S,advanceWidth:_.hmtx.aWidth[S],xMin:ee,yMin:H,xMax:W,yMax:ge,path:I}}K.call(null,A,$+b[D*3]*P,b[D*3+1]*P,v),$+=b[D*3+2]*P,j&&($+=j*z)}v+=C.codePointAt(v)>65535?2:1}),$}};return E}return function(F){const L=new Uint8Array(F,0,4),R=u._bin.readASCII(L,0,4);if(R==="wOFF")F=t(F);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return M(u.parse(F)[0])}}const Ca=hr({name:"Typr Font Parser",dependencies:[ka,Ta,Fa],init(u,t,h){const c=u(),r=t();return h(c,r)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Aa(){return function(u){var t=function(){this.buckets=new Map};t.prototype.add=function(T){var x=T>>5;this.buckets.set(x,(this.buckets.get(x)||0)|1<<(31&T))},t.prototype.has=function(T){var x=this.buckets.get(T>>5);return x!==void 0&&(x&1<<(31&T))!=0},t.prototype.serialize=function(){var T=[];return this.buckets.forEach(function(x,k){T.push((+k).toString(36)+":"+x.toString(36))}),T.join(",")},t.prototype.deserialize=function(T){var x=this;this.buckets.clear(),T.split(",").forEach(function(k){var M=k.split(":");x.buckets.set(parseInt(M[0],36),parseInt(M[1],36))})};var h=Math.pow(2,8),c=h-1,r=~c;function e(T){var x=function(M){return M&r}(T).toString(16),k=function(M){return(M&r)+h-1}(T).toString(16);return"codepoint-index/plane"+(T>>16)+"/"+x+"-"+k+".json"}function a(T,x){var k=T&c,M=x.codePointAt(k/6|0);return((M=(M||48)-48)&1<<k%6)!=0}function o(T,x){var k;(k=T,k.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(M){return M.split("-").map(function(_){return parseInt(_.trim(),16)})})).forEach(function(M){var _=M[0],F=M[1];F===void 0&&(F=_),x(_,F)})}function n(T,x){o(T,function(k,M){for(var _=k;_<=M;_++)x(_)})}var i={},s={},l=new WeakMap,f="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function d(T){var x=l.get(T);return x||(x=new t,n(T.ranges,function(k){return x.add(k)}),l.set(T,x)),x}var p,m=new Map;function g(T,x,k){return T[x]?x:T[k]?k:function(M){for(var _ in M)return _}(T)}function G(T,x){var k=x;if(!T.includes(k)){k=1/0;for(var M=0;M<T.length;M++)Math.abs(T[M]-x)<Math.abs(k-x)&&(k=T[M])}return k}function U(T){return p||(p=new Set,n("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(x){p.add(x)})),p.has(T)}return u.CodePointSet=t,u.clearCache=function(){i={},s={}},u.getFontsForString=function(T,x){x===void 0&&(x={});var k,M=x.lang;M===void 0&&(M=new RegExp("\\p{Script=Hangul}","u").test(k=T)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(k)?"ja":"en");var _=x.category;_===void 0&&(_="sans-serif");var F=x.style;F===void 0&&(F="normal");var L=x.weight;L===void 0&&(L=400);var R=(x.dataUrl||f).replace(/\/$/g,""),X=new Map,y=new Uint8Array(T.length),E={},C={},z=new Array(T.length),j=new Map,K=!1;function $(v){var b=m.get(v);return b||(b=fetch(R+"/"+v).then(function(S){if(!S.ok)throw new Error(S.statusText);return S.json().then(function(D){if(!Array.isArray(D)||D[0]!==1)throw new Error("Incorrect schema version; need 1, got "+D[0]);return D[1]})}).catch(function(S){if(R!==f)return K||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+R+'", trying default CDN. '+S.message),K=!0),R=f,m.delete(v),$(v);throw S}),m.set(v,b)),b}for(var P=function(v){var b=T.codePointAt(v),S=e(b);z[v]=S,i[S]||j.has(S)||j.set(S,$(S).then(function(D){i[S]=D})),b>65535&&(v++,w=v)},w=0;w<T.length;w++)P(w);return Promise.all(j.values()).then(function(){j.clear();for(var v=function(S){var D=T.codePointAt(S),A=null,N=i[z[S]],O=void 0;for(var I in N){var Y=C[I];if(Y===void 0&&(Y=C[I]=new RegExp(I).test(M||"en")),Y){for(var ee in O=I,N[I])if(a(D,N[I][ee])){A=ee;break}break}}if(!A){e:for(var H in N)if(H!==O){for(var W in N[H])if(a(D,N[H][W])){A=W;break e}}}A||(console.debug("No font coverage for U+"+D.toString(16)),A="latin"),z[S]=A,s[A]||j.has(A)||j.set(A,$("font-meta/"+A+".json").then(function(ge){s[A]=ge})),D>65535&&(S++,b=S)},b=0;b<T.length;b++)v(b);return Promise.all(j.values())}).then(function(){for(var v,b=null,S=0;S<T.length;S++){var D=T.codePointAt(S);if(b&&(U(D)||d(b).has(D)))y[S]=y[S-1];else{b=s[z[S]];var A=E[b.id];if(!A){var N=b.typeforms,O=g(N,_,"sans-serif"),I=g(N[O],F,"normal"),Y=G((v=N[O])===null||v===void 0?void 0:v[I],L);A=E[b.id]=R+"/font-files/"+b.id+"/"+O+"."+I+"."+Y+".woff"}var ee=X.get(A);ee==null&&(ee=X.size,X.set(A,ee)),y[S]=ee}D>65535&&(S++,y[S]=y[S-1])}return{fontUrls:Array.from(X.keys()),chars:y}})},Object.defineProperty(u,"__esModule",{value:!0}),u}({})}function Da(u,t){const h=Object.create(null),c=Object.create(null);function r(a,o){const n=i=>{console.error(`Failure loading font ${a}`,i)};try{const i=new XMLHttpRequest;i.open("get",a,!0),i.responseType="arraybuffer",i.onload=function(){if(i.status>=400)n(new Error(i.statusText));else if(i.status>0)try{const s=u(i.response);s.src=a,o(s)}catch(s){n(s)}},i.onerror=n,i.send()}catch(i){n(i)}}function e(a,o){let n=h[a];n?o(n):c[a]?c[a].push(o):(c[a]=[o],r(a,i=>{i.src=a,h[a]=i,c[a].forEach(s=>s(i)),delete c[a]}))}return function(a,o,{lang:n,fonts:i=[],style:s="normal",weight:l="normal",unicodeFontsURL:f}={}){const d=new Uint8Array(a.length),p=[];a.length||U();const m=new Map,g=[];if(s!=="italic"&&(s="normal"),typeof l!="number"&&(l=l==="bold"?700:400),i&&!Array.isArray(i)&&(i=[i]),i=i.slice().filter(x=>!x.lang||x.lang.test(n)).reverse(),i.length){let _=0;(function F(L=0){for(let R=L,X=a.length;R<X;R++){const y=a.codePointAt(R);if(_===1&&p[d[R-1]].supportsCodePoint(y)||/\s/.test(a[R]))d[R]=d[R-1],_===2&&(g[g.length-1][1]=R);else for(let E=d[R],C=i.length;E<=C;E++)if(E===C){const z=_===2?g[g.length-1]:g[g.length]=[R,R];z[1]=R,_=2}else{d[R]=E;const{src:z,unicodeRange:j}=i[E];if(!j||T(y,j)){const K=h[z];if(!K){e(z,()=>{F(R)});return}if(K.supportsCodePoint(y)){let $=m.get(K);typeof $!="number"&&($=p.length,p.push(K),m.set(K,$)),d[R]=$,_=1;break}}}y>65535&&R+1<X&&(d[R+1]=d[R],R++,_===2&&(g[g.length-1][1]=R))}G()})()}else g.push([0,a.length-1]),G();function G(){if(g.length){const x=g.map(k=>a.substring(k[0],k[1]+1)).join(`
`);t.getFontsForString(x,{lang:n||void 0,style:s,weight:l,dataUrl:f}).then(({fontUrls:k,chars:M})=>{const _=p.length;let F=0;g.forEach(R=>{for(let X=0,y=R[1]-R[0];X<=y;X++)d[R[0]+X]=M[F++]+_;F++});let L=0;k.forEach((R,X)=>{e(R,y=>{p[X+_]=y,++L===k.length&&U()})})})}else U()}function U(){o({chars:d,fonts:p})}function T(x,k){for(let M=0;M<k.length;M++){const[_,F=_]=k[M];if(_<=x&&x<=F)return!0}return!1}}}const Ea=hr({name:"FontResolver",dependencies:[Da,Ca,Aa],init(u,t,h){return u(t,h())}});function Ma(u,t){const c=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,r="[^\\S\\u00A0]",e=new RegExp(`${r}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:p,lang:m,fonts:g,style:G,weight:U,preResolvedFonts:T,unicodeFontsURL:x},k){const M=({chars:_,fonts:F})=>{let L,R;const X=[];for(let y=0;y<_.length;y++)_[y]!==R?(R=_[y],X.push(L={start:y,end:y,fontObj:F[_[y]]})):L.end=y;k(X)};T?M(T):u(p,M,{lang:m,fonts:g,style:G,weight:U,unicodeFontsURL:x})}function o({text:p="",font:m,lang:g,sdfGlyphSize:G=64,fontSize:U=400,fontWeight:T=1,fontStyle:x="normal",letterSpacing:k=0,lineHeight:M="normal",maxWidth:_=1/0,direction:F,textAlign:L="left",textIndent:R=0,whiteSpace:X="normal",overflowWrap:y="normal",anchorX:E=0,anchorY:C=0,metricsOnly:z=!1,unicodeFontsURL:j,preResolvedFonts:K=null,includeCaretPositions:$=!1,chunkedBoundsSize:P=8192,colorRanges:w=null},v){const b=l(),S={fontLoad:0,typesetting:0};p.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),p=p.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),U=+U,k=+k,_=+_,M=M||"normal",R=+R,a({text:p,lang:g,style:x,weight:T,fonts:typeof m=="string"?[{src:m}]:m,unicodeFontsURL:j,preResolvedFonts:K},D=>{S.fontLoad=l()-b;const A=isFinite(_);let N=null,O=null,I=null,Y=null,ee=null,H=null,W=null,ge=null,ue=0,Z=0,re=X!=="nowrap";const se=new Map,V=l();let te=R,q=0,B=new f;const he=[B];D.forEach(ne=>{const{fontObj:oe}=ne,{ascender:fe,descender:ve,unitsPerEm:Se,lineGap:Ae,capHeight:me,xHeight:ye}=oe;let le=se.get(oe);if(!le){const ce=U/Se,_e=M==="normal"?(fe-ve+Ae)*ce:M*U,Qe=(_e-(fe-ve)*ce)/2,Ue=Math.min(_e,(fe-ve)*ce),be=(fe+ve)/2*ce+Ue/2;le={index:se.size,src:oe.src,fontObj:oe,fontSizeMult:ce,unitsPerEm:Se,ascender:fe*ce,descender:ve*ce,capHeight:me*ce,xHeight:ye*ce,lineHeight:_e,baseline:-Qe-fe*ce,caretTop:be,caretBottom:be-Ue},se.set(oe,le)}const{fontSizeMult:De}=le,Te=p.slice(ne.start,ne.end+1);let Be,we;oe.forEachGlyph(Te,U,k,(ce,_e,Qe,Ue)=>{_e+=q,Ue+=ne.start,Be=_e,we=ce;const be=p.charAt(Ue),Ee=ce.advanceWidth*De,Fe=B.count;let pe;if("isEmpty"in ce||(ce.isWhitespace=!!be&&new RegExp(r).test(be),ce.canBreakAfter=!!be&&e.test(be),ce.isEmpty=ce.xMin===ce.xMax||ce.yMin===ce.yMax||c.test(be)),!ce.isWhitespace&&!ce.isEmpty&&Z++,re&&A&&!ce.isWhitespace&&_e+Ee+te>_&&Fe){if(B.glyphAt(Fe-1).glyphObj.canBreakAfter)pe=new f,te=-_e;else for(let Ge=Fe;Ge--;)if(Ge===0&&y==="break-word"){pe=new f,te=-_e;break}else if(B.glyphAt(Ge).glyphObj.canBreakAfter){pe=B.splitAt(Ge+1);const Oe=pe.glyphAt(0).x;te-=Oe;for(let Me=pe.count;Me--;)pe.glyphAt(Me).x-=Oe;break}pe&&(B.isSoftWrapped=!0,B=pe,he.push(B),ue=_)}let Ce=B.glyphAt(B.count);Ce.glyphObj=ce,Ce.x=_e+te,Ce.y=Qe,Ce.width=Ee,Ce.charIndex=Ue,Ce.fontData=le,be===`
`&&(B=new f,he.push(B),te=-(_e+Ee+k*U)+R)}),q=Be+we.advanceWidth*De+k*U});let Q=0;he.forEach(ne=>{let oe=!0;for(let fe=ne.count;fe--;){const ve=ne.glyphAt(fe);oe&&!ve.glyphObj.isWhitespace&&(ne.width=ve.x+ve.width,ne.width>ue&&(ue=ne.width),oe=!1);let{lineHeight:Se,capHeight:Ae,xHeight:me,baseline:ye}=ve.fontData;Se>ne.lineHeight&&(ne.lineHeight=Se);const le=ye-ne.baseline;le<0&&(ne.baseline+=le,ne.cap+=le,ne.ex+=le),ne.cap=Math.max(ne.cap,ne.baseline+Ae),ne.ex=Math.max(ne.ex,ne.baseline+me)}ne.baseline-=Q,ne.cap-=Q,ne.ex-=Q,Q+=ne.lineHeight});let ae=0,J=0;if(E&&(typeof E=="number"?ae=-E:typeof E=="string"&&(ae=-ue*(E==="left"?0:E==="center"?.5:E==="right"?1:i(E)))),C&&(typeof C=="number"?J=-C:typeof C=="string"&&(J=C==="top"?0:C==="top-baseline"?-he[0].baseline:C==="top-cap"?-he[0].cap:C==="top-ex"?-he[0].ex:C==="middle"?Q/2:C==="bottom"?Q:C==="bottom-baseline"?-he[he.length-1].baseline:i(C)*Q)),!z){const ne=t.getEmbeddingLevels(p,F);N=new Uint16Array(Z),O=new Uint8Array(Z),I=new Float32Array(Z*2),Y={},W=[1/0,1/0,-1/0,-1/0],ge=[],$&&(H=new Float32Array(p.length*4)),w&&(ee=new Uint8Array(Z*3));let oe=0,fe=-1,ve=-1,Se,Ae;if(he.forEach((me,ye)=>{let{count:le,width:De}=me;if(le>0){let Te=0;for(let Ue=le;Ue--&&me.glyphAt(Ue).glyphObj.isWhitespace;)Te++;let Be=0,we=0;if(L==="center")Be=(ue-De)/2;else if(L==="right")Be=ue-De;else if(L==="justify"&&me.isSoftWrapped){let Ue=0;for(let be=le-Te;be--;)me.glyphAt(be).glyphObj.isWhitespace&&Ue++;we=(ue-De)/Ue}if(we||Be){let Ue=0;for(let be=0;be<le;be++){let Ee=me.glyphAt(be);const Fe=Ee.glyphObj;Ee.x+=Be+Ue,we!==0&&Fe.isWhitespace&&be<le-Te&&(Ue+=we,Ee.width+=we)}}const ce=t.getReorderSegments(p,ne,me.glyphAt(0).charIndex,me.glyphAt(me.count-1).charIndex);for(let Ue=0;Ue<ce.length;Ue++){const[be,Ee]=ce[Ue];let Fe=1/0,pe=-1/0;for(let Ce=0;Ce<le;Ce++)if(me.glyphAt(Ce).charIndex>=be){let Ge=Ce,Oe=Ce;for(;Oe<le;Oe++){let Me=me.glyphAt(Oe);if(Me.charIndex>Ee)break;Oe<le-Te&&(Fe=Math.min(Fe,Me.x),pe=Math.max(pe,Me.x+Me.width))}for(let Me=Ge;Me<Oe;Me++){const je=me.glyphAt(Me);je.x=pe-(je.x+je.width-Fe)}break}}let _e;const Qe=Ue=>_e=Ue;for(let Ue=0;Ue<le;Ue++){const be=me.glyphAt(Ue);_e=be.glyphObj;const Ee=_e.index,Fe=ne.levels[be.charIndex]&1;if(Fe){const pe=t.getMirroredCharacter(p[be.charIndex]);pe&&be.fontData.fontObj.forEachGlyph(pe,0,0,Qe)}if($){const{charIndex:pe,fontData:Ce}=be,Ge=be.x+ae,Oe=be.x+be.width+ae;H[pe*4]=Fe?Oe:Ge,H[pe*4+1]=Fe?Ge:Oe,H[pe*4+2]=me.baseline+Ce.caretBottom+J,H[pe*4+3]=me.baseline+Ce.caretTop+J;const Me=pe-fe;Me>1&&s(H,fe,Me),fe=pe}if(w){const{charIndex:pe}=be;for(;pe>ve;)ve++,w.hasOwnProperty(ve)&&(Ae=w[ve])}if(!_e.isWhitespace&&!_e.isEmpty){const pe=oe++,{fontSizeMult:Ce,src:Ge,index:Oe}=be.fontData,Me=Y[Ge]||(Y[Ge]={});Me[Ee]||(Me[Ee]={path:_e.path,pathBounds:[_e.xMin,_e.yMin,_e.xMax,_e.yMax]});const je=be.x+ae,Ze=be.y+me.baseline+J;I[pe*2]=je,I[pe*2+1]=Ze;const Je=je+_e.xMin*Ce,qe=Ze+_e.yMin*Ce,tr=je+_e.xMax*Ce,Ke=Ze+_e.yMax*Ce;Je<W[0]&&(W[0]=Je),qe<W[1]&&(W[1]=qe),tr>W[2]&&(W[2]=tr),Ke>W[3]&&(W[3]=Ke),pe%P===0&&(Se={start:pe,end:pe,rect:[1/0,1/0,-1/0,-1/0]},ge.push(Se)),Se.end++;const Le=Se.rect;if(Je<Le[0]&&(Le[0]=Je),qe<Le[1]&&(Le[1]=qe),tr>Le[2]&&(Le[2]=tr),Ke>Le[3]&&(Le[3]=Ke),N[pe]=Ee,O[pe]=Oe,w){const nr=pe*3;ee[nr]=Ae>>16&255,ee[nr+1]=Ae>>8&255,ee[nr+2]=Ae&255}}}}}),H){const me=p.length-fe;me>1&&s(H,fe,me)}}const xe=[];se.forEach(({index:ne,src:oe,unitsPerEm:fe,ascender:ve,descender:Se,lineHeight:Ae,capHeight:me,xHeight:ye})=>{xe[ne]={src:oe,unitsPerEm:fe,ascender:ve,descender:Se,lineHeight:Ae,capHeight:me,xHeight:ye}}),S.typesetting=l()-V,v({glyphIds:N,glyphFontIndices:O,glyphPositions:I,glyphData:Y,fontData:xe,caretPositions:H,glyphColors:ee,chunkedBounds:ge,fontSize:U,topBaseline:J+he[0].baseline,blockBounds:[ae,J-Q,ae+ue,J],visibleBounds:W,timings:S})})}function n(p,m){o({...p,metricsOnly:!0},g=>{const[G,U,T,x]=g.blockBounds;m({width:T-G,height:x-U})})}function i(p){let m=p.match(/^([\d.]+)%$/),g=m?parseFloat(m[1]):NaN;return isNaN(g)?0:g/100}function s(p,m,g){const G=p[m*4],U=p[m*4+1],T=p[m*4+2],x=p[m*4+3],k=(U-G)/g;for(let M=0;M<g;M++){const _=(m+M)*4;p[_]=G+k*M,p[_+1]=G+k*(M+1),p[_+2]=T,p[_+3]=x}}function l(){return(self.performance||Date).now()}function f(){this.data=[]}const d=["glyphObj","x","y","width","charIndex","fontData"];return f.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/d.length)},glyphAt(p){let m=f.flyweight;return m.data=this.data,m.index=p,m},splitAt(p){let m=new f;return m.data=this.data.splice(p*d.length),m}},f.flyweight=d.reduce((p,m,g,G)=>(Object.defineProperty(p,m,{get(){return this.data[this.index*d.length+g]},set(U){this.data[this.index*d.length+g]=U}}),p),{data:null,index:0}),{typeset:o,measure:n}}const ir=()=>(self.performance||Date).now(),Xr=bn();let on;function Ra(u,t,h,c,r,e,a,o,n,i,s=!0){return s?Ga(u,t,h,c,r,e,a,o,n,i).then(null,l=>(on||(console.warn("WebGL SDF generation failed, falling back to JS",l),on=!0),ln(u,t,h,c,r,e,a,o,n,i))):ln(u,t,h,c,r,e,a,o,n,i)}const zr=[],Oa=5;let _t=0;function _n(){const u=ir();for(;zr.length&&ir()-u<Oa;)zr.shift()();_t=zr.length?setTimeout(_n,0):0}const Ga=(...u)=>new Promise((t,h)=>{zr.push(()=>{const c=ir();try{Xr.webgl.generateIntoCanvas(...u),t({timing:ir()-c})}catch(r){h(r)}}),_t||(_t=setTimeout(_n,0))}),La=4,Ba=2e3,sn={};let Pa=0;function ln(u,t,h,c,r,e,a,o,n,i){const s="TroikaTextSDFGenerator_JS_"+Pa++%La;let l=sn[s];return l||(l=sn[s]={workerModule:hr({name:s,workerId:s,dependencies:[bn,ir],init(f,d){const p=f().javascript.generate;return function(...m){const g=d();return{textureData:p(...m),timing:d()-g}}},getTransferables(f){return[f.textureData.buffer]}}),requests:0,idleTimer:null}),l.requests++,clearTimeout(l.idleTimer),l.workerModule(u,t,h,c,r,e).then(({textureData:f,timing:d})=>{const p=ir(),m=new Uint8Array(f.length*4);for(let g=0;g<f.length;g++)m[g*4+i]=f[g];return Xr.webglUtils.renderImageData(a,m,o,n,u,t,1<<3-i),d+=ir()-p,--l.requests===0&&(l.idleTimer=setTimeout(()=>{pa(s)},Ba)),{timing:d}})}function Ia(u){u._warm||(Xr.webgl.isSupported(u),u._warm=!0)}const Na=Xr.webglUtils.resizeWebGLCanvasWithoutClearing,dr={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},ja=new wt;function cr(){return(self.performance||Date).now()}const fn=Object.create(null);function Un(u,t){u=Va({},u);const h=cr(),{defaultFontURL:c}=dr,r=[];if(c&&r.push({label:"default",src:un(c)}),u.font&&r.push({label:"user",src:un(u.font)}),u.font=r,u.text=""+u.text,u.sdfGlyphSize=u.sdfGlyphSize||dr.sdfGlyphSize,u.unicodeFontsURL=u.unicodeFontsURL||dr.unicodeFontsURL,u.colorRanges!=null){let f={};for(let d in u.colorRanges)if(u.colorRanges.hasOwnProperty(d)){let p=u.colorRanges[d];typeof p!="number"&&(p=ja.set(p).getHex()),f[d]=p}u.colorRanges=f}Object.freeze(u);const{textureWidth:e,sdfExponent:a}=dr,{sdfGlyphSize:o}=u,n=e/o*4;let i=fn[o];if(!i){const f=document.createElement("canvas");f.width=e,f.height=o*256/n,i=fn[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:f,sdfTexture:new Vn(f,void 0,void 0,void 0,Hr,Hr),contextLost:!1,glyphsByFont:new Map},i.sdfTexture.generateMipmaps=!1,Wa(i)}const{sdfTexture:s,sdfCanvas:l}=i;Xa(u).then(f=>{const{glyphIds:d,glyphFontIndices:p,fontData:m,glyphPositions:g,fontSize:G,timings:U}=f,T=[],x=new Float32Array(d.length*4);let k=0,M=0;const _=cr(),F=m.map(E=>{let C=i.glyphsByFont.get(E.src);return C||i.glyphsByFont.set(E.src,C=new Map),C});d.forEach((E,C)=>{const z=p[C],{src:j,unitsPerEm:K}=m[z];let $=F[z].get(E);if(!$){const{path:S,pathBounds:D}=f.glyphData[j][E],A=Math.max(D[2]-D[0],D[3]-D[1])/o*(dr.sdfMargin*o+.5),N=i.glyphCount++,O=[D[0]-A,D[1]-A,D[2]+A,D[3]+A];F[z].set(E,$={path:S,atlasIndex:N,sdfViewBox:O}),T.push($)}const{sdfViewBox:P}=$,w=g[M++],v=g[M++],b=G/K;x[k++]=w+P[0]*b,x[k++]=v+P[1]*b,x[k++]=w+P[2]*b,x[k++]=v+P[3]*b,d[C]=$.atlasIndex}),U.quads=(U.quads||0)+(cr()-_);const L=cr();U.sdf={};const R=l.height,X=Math.ceil(i.glyphCount/n),y=Math.pow(2,Math.ceil(Math.log2(X*o)));y>R&&(console.info(`Increasing SDF texture size ${R}->${y}`),Na(l,e,y),s.dispose()),Promise.all(T.map(E=>Sn(E,i,u.gpuAccelerateSDF).then(({timing:C})=>{U.sdf[E.atlasIndex]=C}))).then(()=>{T.length&&!i.contextLost&&(wn(i),s.needsUpdate=!0),U.sdfTotal=cr()-L,U.total=cr()-h,t(Object.freeze({parameters:u,sdfTexture:s,sdfGlyphSize:o,sdfExponent:a,glyphBounds:x,glyphAtlasIndices:d,glyphColors:f.glyphColors,caretPositions:f.caretPositions,chunkedBounds:f.chunkedBounds,ascender:f.ascender,descender:f.descender,lineHeight:f.lineHeight,capHeight:f.capHeight,xHeight:f.xHeight,topBaseline:f.topBaseline,blockBounds:f.blockBounds,visibleBounds:f.visibleBounds,timings:f.timings}))})}),Promise.resolve().then(()=>{i.contextLost||Ia(l)})}function Sn({path:u,atlasIndex:t,sdfViewBox:h},{sdfGlyphSize:c,sdfCanvas:r,contextLost:e},a){if(e)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:n}=dr,i=Math.max(h[2]-h[0],h[3]-h[1]),s=Math.floor(t/4),l=s%(o/c)*c,f=Math.floor(s/(o/c))*c,d=t%4;return Ra(c,c,u,h,i,n,r,l,f,d,a)}function Wa(u){const t=u.sdfCanvas;t.addEventListener("webglcontextlost",h=>{console.log("Context Lost",h),h.preventDefault(),u.contextLost=!0}),t.addEventListener("webglcontextrestored",h=>{console.log("Context Restored",h),u.contextLost=!1;const c=[];u.glyphsByFont.forEach(r=>{r.forEach(e=>{c.push(Sn(e,u,!0))})}),Promise.all(c).then(()=>{wn(u),u.sdfTexture.needsUpdate=!0})})}function za({font:u,characters:t,sdfGlyphSize:h},c){let r=Array.isArray(t)?t.join(`
`):""+t;Un({font:u,sdfGlyphSize:h,text:r},c)}function Va(u,t){for(let h in t)t.hasOwnProperty(h)&&(u[h]=t[h]);return u}let Nr;function un(u){return Nr||(Nr=typeof document>"u"?{}:document.createElement("a")),Nr.href=u,Nr.href}function wn(u){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:h}=u,{width:c,height:r}=t,e=u.sdfCanvas.getContext("webgl");let a=h.image.data;(!a||a.length!==c*r*4)&&(a=new Uint8Array(c*r*4),h.image={width:c,height:r,data:a},h.flipY=!1,h.isDataTexture=!0),e.readPixels(0,0,c,r,e.RGBA,e.UNSIGNED_BYTE,a)}}const Ha=hr({name:"Typesetter",dependencies:[Ma,Ea,ma],init(u,t,h){return u(t,h())}}),Xa=hr({name:"Typesetter",dependencies:[Ha],init(u){return function(t){return new Promise(h=>{u.typeset(t,h)})}},getTransferables(u){const t=[];for(let h in u)u[h]&&u[h].buffer&&t.push(u[h].buffer);return t}}),cn={};function Ya(u){let t=cn[u];if(!t){const h=new Tt(1,1,u,u),c=h.clone(),r=h.attributes,e=c.attributes,a=new $n,o=r.uv.count;for(let n=0;n<o;n++)e.position.array[n*3]*=-1,e.normal.array[n*3+2]*=-1;["position","normal","uv"].forEach(n=>{a.setAttribute(n,new ea([...r[n].array,...e[n].array],r[n].itemSize))}),a.setIndex([...h.index.array,...c.index.array.map(n=>n+o)]),a.translate(.5,.5,0),t=cn[u]=a}return t}const Ja="aTroikaGlyphBounds",dn="aTroikaGlyphIndex",Ka="aTroikaGlyphColor";class Qa extends Hn{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Xn,this.boundingBox=new Yn}computeBoundingSphere(){}computeBoundingBox(){}setSide(t){const h=this.getIndex().count;this.setDrawRange(t===Jn?h/2:0,t===mn?h:h/2)}set detail(t){if(t!==this._detail){this._detail=t,(typeof t!="number"||t<1)&&(t=1);let h=Ya(t);["position","normal","uv"].forEach(c=>{this.attributes[c]=h.attributes[c].clone()}),this.setIndex(h.getIndex().clone())}}get detail(){return this._detail}set curveRadius(t){t!==this._curveRadius&&(this._curveRadius=t,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(t,h,c,r,e){pt(this,Ja,t,4),pt(this,dn,h,1),pt(this,Ka,e,3),this._blockBounds=c,this._chunkedBounds=r,this.instanceCount=h.length,this._updateBounds()}_updateBounds(){const t=this._blockBounds;if(t){const{curveRadius:h,boundingBox:c}=this;if(h){const{PI:r,floor:e,min:a,max:o,sin:n,cos:i}=Math,s=r/2,l=r*2,f=Math.abs(h),d=t[0]/f,p=t[2]/f,m=e((d+s)/l)!==e((p+s)/l)?-f:a(n(d)*f,n(p)*f),g=e((d-s)/l)!==e((p-s)/l)?f:o(n(d)*f,n(p)*f),G=e((d+r)/l)!==e((p+r)/l)?f*2:o(f-i(d)*f,f-i(p)*f);c.min.set(m,t[1],h<0?-G:0),c.max.set(g,t[3],h<0?0:G)}else c.min.set(t[0],t[1],0),c.max.set(t[2],t[3],0);c.getBoundingSphere(this.boundingSphere)}}applyClipRect(t){let h=this.getAttribute(dn).count,c=this._chunkedBounds;if(c)for(let r=c.length;r--;){h=c[r].end;let e=c[r].rect;if(e[1]<t.w&&e[3]>t.y&&e[0]<t.z&&e[2]>t.x)break}this.instanceCount=h}}function pt(u,t,h,c){const r=u.getAttribute(t);h?r&&r.array.length===h.length?(r.array.set(h),r.needsUpdate=!0):(u.setAttribute(t,new Kn(h,c)),delete u._maxInstanceCount,u.dispose()):r&&u.deleteAttribute(t)}const Za=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,qa=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,$a=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,eo=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function ro(u){const t=xt(u,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vr},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new $t(0,0,0,0)},uTroikaClipRect:{value:new $t(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vr},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new wt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Qn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Za,vertexTransform:qa,fragmentDefs:$a,fragmentColorTransform:eo,customRewriter({vertexShader:h,fragmentShader:c}){let r=/\buniform\s+vec3\s+diffuse\b/;return r.test(c)&&(c=c.replace(r,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),r.test(h)||(h=h.replace(xn,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:h,fragmentShader:c}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const At=new Zn({color:16777215,side:mn,transparent:!0}),hn=8421504,vn=new qn,jr=new kt,gt=new kt,wr=[],to=new kt,mt="+x+y";function pn(u){return Array.isArray(u)?u[0]:u}let kn=()=>{const u=new St(new Tt(1,1),At);return kn=()=>u,u},Tn=()=>{const u=new St(new Tt(1,1,32,1),At);return Tn=()=>u,u};const no={type:"syncstart"},ao={type:"synccomplete"},Fn=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],oo=Fn.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Cn=class extends St{constructor(){const t=new Qa;super(t,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=hn,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=mt,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(t){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(t):(this._isSyncing=!0,this.dispatchEvent(no),Un({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},h=>{this._isSyncing=!1,this._textRenderInfo=h,this.geometry.updateGlyphs(h.glyphBounds,h.glyphAtlasIndices,h.blockBounds,h.chunkedBounds,h.glyphColors);const c=this._queuedSyncs;c&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{c.forEach(r=>r&&r())})),this.dispatchEvent(ao),t&&t()})))}onBeforeRender(t,h,c,r,e,a){this.sync(),e.isTroikaTextMaterial&&this._prepareForRender(e),e._hadOwnSide=e.hasOwnProperty("side"),this.geometry.setSide(e._actualSide=e.side),e.side=zn}onAfterRender(t,h,c,r,e,a){e._hadOwnSide?e.side=e._actualSide:delete e.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let t=this._derivedMaterial;const h=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=At.clone());if((!t||t.baseMaterial!==h)&&(t=this._derivedMaterial=ro(h),h.addEventListener("dispose",function c(){h.removeEventListener("dispose",c),t.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let c=t._outlineMtl;return c||(c=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),c.isTextOutlineMaterial=!0,c.depthWrite=!1,c.map=null,t.addEventListener("dispose",function r(){t.removeEventListener("dispose",r),c.dispose()})),[c,t]}else return t}set material(t){t&&t.isTroikaTextMaterial?(this._derivedMaterial=t,this._baseMaterial=t.baseMaterial):this._baseMaterial=t}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(t){this.geometry.detail=t}get curveRadius(){return this.geometry.curveRadius}set curveRadius(t){this.geometry.curveRadius=t}get customDepthMaterial(){return pn(this.material).getDepthMaterial()}get customDistanceMaterial(){return pn(this.material).getDistanceMaterial()}_prepareForRender(t){const h=t.isTextOutlineMaterial,c=t.uniforms,r=this.textRenderInfo;if(r){const{sdfTexture:o,blockBounds:n}=r;c.uTroikaSDFTexture.value=o,c.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),c.uTroikaSDFGlyphSize.value=r.sdfGlyphSize,c.uTroikaSDFExponent.value=r.sdfExponent,c.uTroikaTotalBounds.value.fromArray(n),c.uTroikaUseGlyphColors.value=!h&&!!r.glyphColors;let i=0,s=0,l=0,f,d,p,m=0,g=0;if(h){let{outlineWidth:U,outlineOffsetX:T,outlineOffsetY:x,outlineBlur:k,outlineOpacity:M}=this;i=this._parsePercent(U)||0,s=Math.max(0,this._parsePercent(k)||0),f=M,m=this._parsePercent(T)||0,g=this._parsePercent(x)||0}else l=Math.max(0,this._parsePercent(this.strokeWidth)||0),l&&(p=this.strokeColor,c.uTroikaStrokeColor.value.set(p??hn),d=this.strokeOpacity,d==null&&(d=1)),f=this.fillOpacity;c.uTroikaDistanceOffset.value=i,c.uTroikaPositionOffset.value.set(m,g),c.uTroikaBlurRadius.value=s,c.uTroikaStrokeWidth.value=l,c.uTroikaStrokeOpacity.value=d,c.uTroikaFillOpacity.value=f??1,c.uTroikaCurveRadius.value=this.curveRadius||0;let G=this.clipRect;if(G&&Array.isArray(G)&&G.length===4)c.uTroikaClipRect.value.fromArray(G);else{const U=(this.fontSize||.1)*100;c.uTroikaClipRect.value.set(n[0]-U,n[1]-U,n[2]+U,n[3]+U)}this.geometry.applyClipRect(c.uTroikaClipRect.value)}c.uTroikaSDFDebug.value=!!this.debugSDF,t.polygonOffset=!!this.depthOffset,t.polygonOffsetFactor=t.polygonOffsetUnits=this.depthOffset||0;const e=h?this.outlineColor||0:this.color;if(e==null)delete t.color;else{const o=t.hasOwnProperty("color")?t.color:t.color=new wt;(e!==o._input||typeof e=="object")&&o.set(o._input=e)}let a=this.orientation||mt;if(a!==t._orientation){let o=c.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let n=a!==mt&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(n){let[,i,s,l,f]=n;jr.set(0,0,0)[s]=i==="-"?1:-1,gt.set(0,0,0)[f]=l==="-"?-1:1,vn.lookAt(to,jr.cross(gt),gt),o.setFromMatrix4(vn)}else o.identity();t._orientation=a}}_parsePercent(t){if(typeof t=="string"){let h=t.match(/^(-?[\d.]+)%$/),c=h?parseFloat(h[1]):NaN;t=(isNaN(c)?0:c/100)*this.fontSize}return t}localPositionToTextCoords(t,h=new Vr){h.copy(t);const c=this.curveRadius;return c&&(h.x=Math.atan2(t.x,Math.abs(c)-Math.abs(t.z))*Math.abs(c)),h}worldPositionToTextCoords(t,h=new Vr){return jr.copy(t),this.localPositionToTextCoords(this.worldToLocal(jr),h)}raycast(t,h){const{textRenderInfo:c,curveRadius:r}=this;if(c){const e=c.blockBounds,a=r?Tn():kn(),o=a.geometry,{position:n,uv:i}=o.attributes;for(let s=0;s<i.count;s++){let l=e[0]+i.getX(s)*(e[2]-e[0]);const f=e[1]+i.getY(s)*(e[3]-e[1]);let d=0;r&&(d=r-Math.cos(l/r)*r,l=Math.sin(l/r)*r),n.setXYZ(s,l,f,d)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,wr.length=0,a.raycast(t,wr);for(let s=0;s<wr.length;s++)wr[s].object=this,h.push(wr[s])}}copy(t){const h=this.geometry;return super.copy(t),this.geometry=h,oo.forEach(c=>{this[c]=t[c]}),this}clone(){return new this.constructor().copy(this)}};Fn.forEach(u=>{const t="_private_"+u;Object.defineProperty(Cn.prototype,u,{get(){return this[t]},set(h){h!==this[t]&&(this[t]=h,this._needsSync=!0)}})});const io=de.forwardRef(({sdfGlyphSize:u=64,anchorX:t="center",anchorY:h="middle",font:c,fontSize:r=1,children:e,characters:a,onSync:o,...n},i)=>{const s=or(({invalidate:p})=>p),[l]=de.useState(()=>new Cn),[f,d]=de.useMemo(()=>{const p=[];let m="";return de.Children.forEach(e,g=>{typeof g=="string"||typeof g=="number"?m+=g:p.push(g)}),[p,m]},[e]);return ra(()=>new Promise(p=>za({font:c,characters:a},p)),["troika-text",c,a]),de.useLayoutEffect(()=>void l.sync(()=>{s(),o&&o(l)})),de.useEffect(()=>()=>l.dispose(),[l]),de.createElement("primitive",Ft({object:l,ref:i,font:c,text:d,anchorX:t,anchorY:h,fontSize:r,sdfGlyphSize:u},n),f)});function An(u,t,h){const c=or(f=>f.size),r=or(f=>f.viewport),e=typeof u=="number"?u:c.width*r.dpr,a=typeof t=="number"?t:c.height*r.dpr,o=(typeof u=="number"?h:u)||{},{samples:n=0,depth:i,...s}=o,l=de.useMemo(()=>{const f=new ta(e,a,{minFilter:Hr,magFilter:Hr,type:na,...s});return i&&(f.depthTexture=new aa(e,a,oa)),f.samples=n,f},[]);return de.useLayoutEffect(()=>{l.setSize(e,a),n&&(l.samples=n)},[n,l,e,a]),de.useEffect(()=>()=>l.dispose(),[]),l}const so=u=>typeof u=="function",lo=de.forwardRef(({envMap:u,resolution:t=256,frames:h=1/0,makeDefault:c,children:r,...e},a)=>{const o=or(({set:g})=>g),n=or(({camera:g})=>g),i=or(({size:g})=>g),s=de.useRef(null);de.useImperativeHandle(a,()=>s.current,[]);const l=de.useRef(null),f=An(t);de.useLayoutEffect(()=>{e.manual||(s.current.aspect=i.width/i.height)},[i,e]),de.useLayoutEffect(()=>{s.current.updateProjectionMatrix()});let d=0,p=null;const m=so(r);return Ct(g=>{m&&(h===1/0||d<h)&&(l.current.visible=!1,g.gl.setRenderTarget(f),p=g.scene.background,u&&(g.scene.background=u),g.gl.render(g.scene,s.current),g.scene.background=p,g.gl.setRenderTarget(null),l.current.visible=!0,d++)}),de.useLayoutEffect(()=>{if(c){const g=n;return o(()=>({camera:s.current})),()=>o(()=>({camera:g}))}},[s,c,o]),de.createElement(de.Fragment,null,de.createElement("perspectiveCamera",Ft({ref:s},e),!m&&r),de.createElement("group",{ref:l},m&&r(f.texture)))}),fo=de.forwardRef(({children:u,compute:t,width:h,height:c,samples:r=8,renderPriority:e=0,eventPriority:a=0,frames:o=1/0,stencilBuffer:n=!1,depthBuffer:i=!0,generateMipmaps:s=!1,...l},f)=>{const{size:d,viewport:p}=or(),m=An((h||d.width)*p.dpr,(c||d.height)*p.dpr,{samples:r,stencilBuffer:n,depthBuffer:i,generateMipmaps:s}),[g]=de.useState(()=>new ia),G=de.useCallback((U,T,x)=>{var k,M;let _=(k=m.texture)==null?void 0:k.__r3f.parent;for(;_&&!(_ instanceof sa);)_=_.__r3f.parent;if(!_)return!1;x.raycaster.camera||x.events.compute(U,x,(M=x.previousRoot)==null?void 0:M.getState());const[F]=x.raycaster.intersectObject(_);if(!F)return!1;const L=F.uv;if(!L)return!1;T.raycaster.setFromCamera(T.pointer.set(L.x*2-1,L.y*2-1),T.camera)},[]);return de.useImperativeHandle(f,()=>m.texture,[m]),de.createElement(de.Fragment,null,la(de.createElement(uo,{renderPriority:e,frames:o,fbo:m},u,de.createElement("group",{onPointerOver:()=>null})),g,{events:{compute:t||G,priority:a}}),de.createElement("primitive",Ft({object:m.texture},l)))});function uo({frames:u,renderPriority:t,children:h,fbo:c}){let r=0,e,a;return Ct(o=>{(u===1/0||r<u)&&(e=o.gl.autoClear,a=o.gl.xr.enabled,o.gl.autoClear=!0,o.gl.xr.enabled=!1,o.gl.setRenderTarget(c),o.gl.render(o.scene,o.camera),o.gl.setRenderTarget(null),o.gl.autoClear=e,o.gl.xr.enabled=a,r++)},t),de.createElement(de.Fragment,null,h)}function Yr(u,t,h,c){return new(h||(h=Promise))(function(r,e){function a(i){try{n(c.next(i))}catch(s){e(s)}}function o(i){try{n(c.throw(i))}catch(s){e(s)}}function n(i){var s;i.done?r(i.value):(s=i.value,s instanceof h?s:new h(function(l){l(s)})).then(a,o)}n((c=c.apply(u,[])).next())})}function rr(u,t){var h,c,r,e,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return e={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(e[Symbol.iterator]=function(){return this}),e;function o(n){return function(i){return function(s){if(h)throw new TypeError("Generator is already executing.");for(;a;)try{if(h=1,c&&(r=2&s[0]?c.return:s[0]?c.throw||((r=c.return)&&r.call(c),0):c.next)&&!(r=r.call(c,s[1])).done)return r;switch(c=0,r&&(s=[2&s[0],r.value]),s[0]){case 0:case 1:r=s;break;case 4:return a.label++,{value:s[1],done:!1};case 5:a.label++,c=s[1],s=[0];continue;case 7:s=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!((r=r.length>0&&r[r.length-1])||s[0]!==6&&s[0]!==2)){a=0;continue}if(s[0]===3&&(!r||s[1]>r[0]&&s[1]<r[3])){a.label=s[1];break}if(s[0]===6&&a.label<r[1]){a.label=r[1],r=s;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(s);break}r[2]&&a.ops.pop(),a.trys.pop();continue}s=t.call(u,a)}catch(l){s=[6,l],c=0}finally{h=r=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([n,i])}}}function Ut(u){var t=typeof Symbol=="function"&&Symbol.iterator,h=t&&u[t],c=0;if(h)return h.call(u);if(u&&typeof u.length=="number")return{next:function(){return u&&c>=u.length&&(u=void 0),{value:u&&u[c++],done:!u}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ve(u,t){var h=typeof Symbol=="function"&&u[Symbol.iterator];if(!h)return u;var c,r,e=h.call(u),a=[];try{for(;(t===void 0||t-- >0)&&!(c=e.next()).done;)a.push(c.value)}catch(o){r={error:o}}finally{try{c&&!c.done&&(h=e.return)&&h.call(e)}finally{if(r)throw r.error}}return a}function Ye(u,t,h){if(arguments.length===2)for(var c,r=0,e=t.length;r<e;r++)!c&&r in t||(c||(c=Array.prototype.slice.call(t,0,r)),c[r]=t[r]);return u.concat(c||Array.prototype.slice.call(t))}function gn(u,t,h,c,r){for(var e=[],a=5;a<arguments.length;a++)e[a-5]=arguments[a];return Yr(this,void 0,void 0,function(){var o,n,i,s,l,f;return rr(this,function(d){switch(d.label){case 0:d.trys.push([0,12,13,14]),o=Ut(e),n=o.next(),d.label=1;case 1:if(n.done)return[3,11];switch(i=n.value,typeof i){case"string":return[3,2];case"number":return[3,4];case"function":return[3,6]}return[3,8];case 2:return[4,co(u,t,i,h,c,r)];case 3:return d.sent(),[3,10];case 4:return[4,Dn(i)];case 5:return d.sent(),[3,10];case 6:return[4,i.apply(void 0,Ye([u,t,h,c,r],Ve(e),!1))];case 7:return d.sent(),[3,10];case 8:return[4,i];case 9:d.sent(),d.label=10;case 10:return n=o.next(),[3,1];case 11:return[3,14];case 12:return s=d.sent(),l={error:s},[3,14];case 13:try{n&&!n.done&&(f=o.return)&&f.call(o)}finally{if(l)throw l.error}return[7];case 14:return[2]}})})}function co(u,t,h,c,r,e){return Yr(this,void 0,void 0,function(){var a,o;return rr(this,function(n){switch(n.label){case 0:return a=u.textContent||"",o=function(i,s){var l=Ve(s).slice(0);return Ye(Ye([],Ve(i),!1),[NaN],!1).findIndex(function(f,d){return l[d]!==f})}(a,h),[4,ho(u,Ye(Ye([],Ve(po(a,t,o)),!1),Ve(vo(h,t,o)),!1),c,r,e)];case 1:return n.sent(),[2]}})})}function Dn(u){return Yr(this,void 0,void 0,function(){return rr(this,function(t){switch(t.label){case 0:return[4,new Promise(function(h){return setTimeout(h,u)})];case 1:return t.sent(),[2]}})})}function ho(u,t,h,c,r){return Yr(this,void 0,void 0,function(){var e,a,o,n,i,s,l,f,d,p,m,g,G;return rr(this,function(U){switch(U.label){case 0:if(e=t,r){for(a=0,o=1;o<t.length;o++)if(n=Ve([t[o-1],t[o]],2),i=n[0],(s=n[1]).length>i.length||s===""){a=o;break}e=t.slice(a,t.length)}U.label=1;case 1:U.trys.push([1,6,7,8]),l=Ut(function(T){var x,k,M,_,F,L,R;return rr(this,function(X){switch(X.label){case 0:x=function(y){return rr(this,function(E){switch(E.label){case 0:return[4,{op:function(C){return requestAnimationFrame(function(){return C.textContent=y})},opCode:function(C){var z=C.textContent||"";return y===""||z.length>y.length?"DELETE":"WRITING"}}];case 1:return E.sent(),[2]}})},X.label=1;case 1:X.trys.push([1,6,7,8]),k=Ut(T),M=k.next(),X.label=2;case 2:return M.done?[3,5]:(_=M.value,[5,x(_)]);case 3:X.sent(),X.label=4;case 4:return M=k.next(),[3,2];case 5:return[3,8];case 6:return F=X.sent(),L={error:F},[3,8];case 7:try{M&&!M.done&&(R=k.return)&&R.call(k)}finally{if(L)throw L.error}return[7];case 8:return[2]}})}(e)),f=l.next(),U.label=2;case 2:return f.done?[3,5]:(d=f.value,p=d.opCode(u)==="WRITING"?h+h*(Math.random()-.5):c+c*(Math.random()-.5),d.op(u),[4,Dn(p)]);case 3:U.sent(),U.label=4;case 4:return f=l.next(),[3,2];case 5:return[3,8];case 6:return m=U.sent(),g={error:m},[3,8];case 7:try{f&&!f.done&&(G=l.return)&&G.call(l)}finally{if(g)throw g.error}return[7];case 8:return[2]}})})}function vo(u,t,h){var c,r;return h===void 0&&(h=0),rr(this,function(e){switch(e.label){case 0:c=t(u),r=c.length,e.label=1;case 1:return h<r?[4,c.slice(0,++h).join("")]:[3,3];case 2:return e.sent(),[3,1];case 3:return[2]}})}function po(u,t,h){var c,r;return h===void 0&&(h=0),rr(this,function(e){switch(e.label){case 0:c=t(u),r=c.length,e.label=1;case 1:return r>h?[4,c.slice(0,--r).join("")]:[3,3];case 2:return e.sent(),[3,1];case 3:return[2]}})}var go="index-module_type__E-SaG";(function(u,t){t===void 0&&(t={});var h=t.insertAt;if(typeof document<"u"){var c=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",h==="top"&&c.firstChild?c.insertBefore(r,c.firstChild):c.appendChild(r),r.styleSheet?r.styleSheet.cssText=u:r.appendChild(document.createTextNode(u))}})(`.index-module_type__E-SaG::after {
  content: '|';
  animation: index-module_cursor__PQg0P 1.1s infinite step-start;
}

@keyframes index-module_cursor__PQg0P {
  50% {
    opacity: 0;
  }
}
`);var mo=de.memo(de.forwardRef(function(u,t){var h=u.sequence,c=u.repeat,r=u.className,e=u.speed,a=e===void 0?40:e,o=u.deletionSpeed,n=u.omitDeletionAnimation,i=n!==void 0&&n,s=u.preRenderFirstString,l=s!==void 0&&s,f=u.wrapper,d=f===void 0?"span":f,p=u.splitter,m=p===void 0?function(w){return Ye([],Ve(w),!1)}:p,g=u.cursor,G=g===void 0||g,U=u.style,T=function(w,v){var b={};for(var S in w)Object.prototype.hasOwnProperty.call(w,S)&&v.indexOf(S)<0&&(b[S]=w[S]);if(w!=null&&typeof Object.getOwnPropertySymbols=="function"){var D=0;for(S=Object.getOwnPropertySymbols(w);D<S.length;D++)v.indexOf(S[D])<0&&Object.prototype.propertyIsEnumerable.call(w,S[D])&&(b[S[D]]=w[S[D]])}return b}(u,["sequence","repeat","className","speed","deletionSpeed","omitDeletionAnimation","preRenderFirstString","wrapper","splitter","cursor","style"]),x=T["aria-label"],k=T["aria-hidden"],M=T.role;o||(o=a);var _=new Array(2).fill(40);[a,o].forEach(function(w,v){switch(typeof w){case"number":_[v]=Math.abs(w-100);break;case"object":var b=w.type,S=w.value;if(typeof S!="number")break;b==="keyStrokeDelayInMs"&&(_[v]=S)}});var F,L,R,X,y,E,C=_[0],z=_[1],j=function(w,v){v===void 0&&(v=null);var b=de.useRef(v);return de.useEffect(function(){w&&(typeof w=="function"?w(b.current):w.current=b.current)},[w]),b}(t),K=go;F=r?"".concat(G?K+" ":"").concat(r):G?K:"",L=de.useRef(function(){var w,v=h;c===1/0?w=gn:typeof c=="number"&&(v=Array(1+c).fill(h).flat());var b=w?Ye(Ye([],Ve(v),!1),[w],!1):Ye([],Ve(v),!1);return gn.apply(void 0,Ye([j.current,m,C,z,i],Ve(b),!1)),function(){j.current}}),R=de.useRef(),X=de.useRef(!1),y=de.useRef(!1),E=Ve(de.useState(0),2)[1],X.current&&(y.current=!0),de.useEffect(function(){return X.current||(R.current=L.current(),X.current=!0),E(function(w){return w+1}),function(){y.current&&R.current&&R.current()}},[]);var $=d,P=l?h.find(function(w){return typeof w=="string"})||"":null;return qt.createElement($,{"aria-hidden":k,"aria-label":x,role:M,style:U,className:F,children:x?qt.createElement("span",{"aria-hidden":"true",ref:j,children:P}):P,ref:x?void 0:j})}),function(u,t){return!0});const yo=()=>{const u=de.useRef();return Ct(t=>u.current.position.x=Math.sin(t.clock.elapsedTime)*1),ke.jsxs("mesh",{children:[ke.jsx("boxGeometry",{}),ke.jsx("meshLambertMaterial",{children:ke.jsxs(fo,{attach:"map",children:[ke.jsx(lo,{makeDefault:!0,position:[0,0,5]}),ke.jsx("color",{attach:"background",args:["#1f2833"]}),ke.jsx(io,{ref:u,fontSize:1,color:"#CDBFEE",children:"HELLO!"})]})})]})},bo=He.div`
  height: 100vh;
  /* background-color: #244855; */
  background-color: #1a1c25;
  /* background: linear-gradient(
    180deg,
    rgba(0, 169, 242, 1) 0%,
    rgba(11, 109, 201, 1) 30%,
    rgba(23, 45, 157, 1) 100%
  ); */

  scroll-snap-align: center;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: space-between;
  @media only screen and (max-width: 760px) {
    height: 100vh;
  }
`,xo=He.div`
  height: 100%;
  scroll-snap-align: center;
  width: 1400px;
  display: flex;
  justify-content: space-between;
  @media only screen and (max-width: 760px) {
    width: 100%;
    flex-direction: column;
    align-items: center;
    justify-content: center;
  }
`,_o=He.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;
  position: relative;
  @media only screen and (max-width: 760px) {
    flex: 1;
    display: flex;
    flex-direction: column;
    justify-content: center;
    align-items: center;
    gap: 20px;
  }
`,Uo=He.div`
  flex: 1;
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 20px;

  @media only screen and (max-width: 760px) {
    /* align-items: center;
    text-align: center; */
    display: none;
  }
`,So=He.h1`
  color: #66fcf1;
  font-size: 74px;
  margin: 0;

  @media only screen and (max-width: 760px) {
    text-align: center;
  }
`,wo=He.div`
  display: flex;
  align-items: center;
  gap: 10px;
  margin: 0;
`,ko=He.img`
  height: 16px;
  margin: 0;
`,To=He.h2`
  font-size: 32px;
  color: #CDBFEE;
  /* color: #d9b08c; */
  margin: 0;
`,Fo=He.p`
  font-size: 24px;
  color: lightgray;
  margin: 0;
  @media only screen and (max-width: 760px) {
    font-size: 12px;

    padding: 20px;
    text-align: center;
  }
`,Co=He.button`
  width: 150px;
  padding: 10px;
  /* background-color: #e64833; */
  background-color: #087E8B;
  color: #fdfdfd;
  border: none;
  border-radius: 10px;
  cursor: pointer;
  margin: 0;
`;He.img`
  width: 400px;
  height: 800px;
  object-fit: contain;
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  margin: auto;
  animation: animate 2s infinite ease alternate;
  @media only screen and (max-width: 760px) {
    width: 300px;
    height: 300px;
  }
  @keyframes animate {
    to {
      transform: translateY(20px);
    }
  }
`;const Oo=()=>ke.jsxs(bo,{id:"HeroSection",children:[ke.jsx(Bn,{}),ke.jsxs(xo,{children:[ke.jsxs(_o,{children:[ke.jsx(So,{children:"Sriram Paga"}),ke.jsxs(wo,{children:[ke.jsx(ko,{src:"./Images/line2.png"}),ke.jsxs(To,{children:[" ",ke.jsx(mo,{className:"maskedType",sequence:["React Developer",2e3,"Animator",2e3],cursor:!0,wrapper:"span",speed:30,style:{},repeat:1/0,deletionSpeed:30})]})]}),ke.jsx(Fo,{children:"Code by Day, Animate by Night !"}),ke.jsxs("a",{href:"#AboutSection",children:[" ",ke.jsx(Co,{children:"Deep Dive"})," "]})]}),ke.jsx(Uo,{children:ke.jsxs(fa,{camera:{fov:25,position:[5,5,5]},children:[ke.jsx(ua,{enableZoom:!1,autoRotate:!0}),ke.jsx("ambientLight",{intensity:2}),ke.jsx("directionalLight",{position:[7,2,5],intensity:3}),ke.jsx(yo,{})]})})]})]});export{Oo as default};
